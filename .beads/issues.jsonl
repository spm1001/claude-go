{"id":"claude-go-01t","title":"Fixed bugs and sorted out hygiene through a mild refactor","description":"Bugs discovered during MCP bakeoff comparing Official Google MCP vs our Organic MCP","design":"## Context\nDuring bakeoff on 3 Jan 2026, tested both MCPs head-to-head across 12 scenarios.\nFound 3 bugs in our implementation that need fixing.\n\n## Findings Doc\nClaude Research/MCP Bakeoff - Findings Summary - Jan 2026","acceptance_criteria":"- [ ] Binary format detection returns correct format (not always \"pdf\")\n- [ ] Multi-sheet spreadsheets return all sheets\n- [ ] Drive search includes content search, not just name search","status":"closed","priority":1,"issue_type":"epic","created_at":"2026-01-03T23:21:28.427876Z","updated_at":"2026-01-04T18:14:53.386058Z","closed_at":"2026-01-04T18:14:53.386058Z","close_reason":"All three acceptance criteria complete: (1) Binary format detection fixed in a1h, (2) Multi-sheet spreadsheets fixed in 7k8, (3) Content search fixed in g7u (previous session)"}
{"id":"claude-go-05s","title":"Claude thinking/working indicator","description":"Show when Claude is processing (typing indicator or spinner). Currently no feedback between send and response.","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-07T22:33:08.378686Z","created_by":"modha","updated_at":"2026-01-07T22:33:08.378686Z","dependencies":[{"issue_id":"claude-go-05s","depends_on_id":"claude-go-a77","type":"parent-child","created_at":"2026-01-07T22:33:21.812452Z","created_by":"modha"}]}
{"id":"claude-go-0fi","title":"Test Google Workspace MCP tool coverage","description":"Test Calendar, Docs, Sheets, Chat, Drive tools in google-workspace MCP. Verify which work with current ITV OAuth scopes.","design":"## Tools to test\n- calendar.listEvents, calendar.createEvent\n- docs.create, docs.getText\n- sheets.getText, sheets.getRange\n- chat.listSpaces (may fail — new scope)\n- drive.search\n\n## Expected issues\n- Chat scopes may not be approved by ITV\n- gmail.modify vs gmail.readonly difference","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-03T14:53:34.259077Z","updated_at":"2026-01-03T15:31:37.247747Z","closed_at":"2026-01-03T15:31:37.247747Z","close_reason":"Moved to mcp-workspace-google-9z2 in ~/Repos/mcp-workspace-google"}
{"id":"claude-go-0nc","title":"Mobile polish","description":"Mobile-first CSS refinements. Large buttons, pull-to-refresh, swipe gestures.","acceptance_criteria":"Touch-friendly (48px tap targets), responsive breakpoints, expandable input area.","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-06T21:58:13.117535Z","created_by":"modha","updated_at":"2026-01-06T21:58:13.117535Z","dependencies":[{"issue_id":"claude-go-0nc","depends_on_id":"claude-go-tvd","type":"parent","created_at":"2026-01-06T21:58:13.118704Z","created_by":"modha"},{"issue_id":"claude-go-0nc","depends_on_id":"claude-go-r7t","type":"blocks","created_at":"2026-01-06T21:58:13.119693Z","created_by":"modha"}]}
{"id":"claude-go-1a7","title":"Add Calendar primitives (list calendars, list events)","description":"Official MCP has full Calendar CRUD:\n- list, listEvents, getEvent\n- createEvent, updateEvent, deleteEvent\n- respondToEvent, findFreeTime\n\nWe only have check_schedule_health (opinionated audit tool).\nNeed actual calendar manipulation for workplace automation.","design":"## Official MCP Tools\n- calendar_list: List all calendars\n- calendar_listEvents: Get events in date range\n- calendar_getEvent: Get single event details\n- calendar_createEvent: Create new event\n- calendar_updateEvent: Modify existing event\n- calendar_deleteEvent: Remove event\n- calendar_findFreeTime: Find available slots\n- calendar_respondToEvent: Accept/decline invites\n\n## What We Have\n- check_schedule_health: Our opinionated \"Freedom Score\" tool\n- This uses Calendar API internally but doesn't expose CRUD\n\n## Implementation Options\n1. Add all 8 tools (comprehensive, matches Official)\n2. Add core 4: list, create, update, delete (minimal viable)\n3. Add core 4 + findFreeTime (useful for scheduling)\n\n## Integration\ncheck_schedule_health should continue to work.\nNew tools should complement, not replace, the Freedom Score approach.","status":"tombstone","priority":2,"issue_type":"feature","created_at":"2026-01-03T23:23:38.099646Z","updated_at":"2026-01-08T18:03:15.967312Z","dependencies":[{"issue_id":"claude-go-1a7","depends_on_id":"claude-go-5ak","type":"parent-child","created_at":"2026-01-03T23:25:28.534413Z","created_by":"modha","metadata":"{}"}],"deleted_at":"2026-01-08T18:03:15.967312Z","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"feature"}
{"id":"claude-go-1mx","title":"Handoff collision when multiple sessions /close in same folder","description":"When running parallel Claude sessions in the same folder (e.g., multiple workstreams in ~/Work), handoffs overwrite each other. Session A writes handoff, Session B overwrites, Session C does /open and gets wrong context.\n\nDiscovered during orchestration session with 3 Claudes in Work folder (contracts, RFI, filing).\n\n## Current behavior\n- Handoff writes to fixed location per folder\n- Last /close wins\n- /open picks up whatever is there\n\n## Expected behavior\n- Handoffs should be distinguishable by workstream/purpose\n- /open should be able to target specific handoff","design":"## Possible approaches\n\n1. **Named handoffs** — handoff-{purpose}.md, /close asks for name, /open lists available\n2. **Session ID in filename** — handoff-{session-id}.md, /open shows recent and lets user pick\n3. **Subfolder convention** — encourage workstream subfolders, one handoff per subfolder\n4. **Handoff registry** — metadata file listing active handoffs with timestamps and summaries\n\nOption 1 (named) feels most ergonomic for knowledge work where purposes are meaningful.","notes":"## COMPLETED 2026-01-04\n\n### Changes Made\n1. **Path canonicalization** — `pwd -P` in open-context.sh and close-context.sh resolves symlinks for consistent encoding\n2. **Multi-handoff picker** — open-context.sh now lists all handoffs with purpose (first Done bullet) when multiple exist\n3. **Session ID filename** — session-closing SKILL.md updated to use `{session_id_short}.md` pattern\n4. **Purpose header** — handoffs now include `purpose:` line for picker display\n5. **Migration script** — scripts/migrate-handoffs.sh consolidates fragmented Google Drive handoff folders\n\n### Related\n- Filed claude-go-8lt for path fragmentation bug (discovered during investigation)\n- Ran migration to consolidate Work folder handoffs (4 files from 2 variant folders → 1 canonical folder)\n\n### Testing\n- Verified picker works with 4 handoffs in Work folder\n- Fixed space-in-path bug in for loop (while read instead)","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-01-04T19:10:52.27283Z","updated_at":"2026-01-04T22:22:26.999417Z","closed_at":"2026-01-04T22:22:26.999417Z","close_reason":"Fixed with path canonicalization, multi-handoff picker, and session_id filename pattern in skill docs. Migration script provided for existing fragmented folders."}
{"id":"claude-go-1u4","title":"Rename MCP repos to mcp-* prefix","design":"Part of naming convention cleanup. Pattern established: skill-* for skills, mcp-* for MCP servers.\n\nRepos to rename:\n- infra-mcp-workspace → mcp-workspace (Google Workspace MCP server)\n- myitv-search-mcp → mcp-myitv-search (ITV intranet search)\n- infra-html-tool-executor → mcp-html-executor (HTML tools via JSDOM)\n\nAfter rename: update any references in CLAUDE.md, .mcp.json files, symlinks.","status":"tombstone","priority":2,"issue_type":"task","created_at":"2025-12-28T21:39:55.579674Z","updated_at":"2025-12-28T22:05:18.011977Z","deleted_at":"2025-12-28T22:05:18.011977Z","deleted_by":"daemon","delete_reason":"delete","original_type":"task"}
{"id":"claude-go-20z","title":"Session manager (tmux wrapper)","description":"lib/sessions.js: Wrap tmux commands for session lifecycle. Create claude session in detached tmux, send-keys for input, poll for session health.","acceptance_criteria":"Can list, create, kill tmux sessions via API. Sessions persist when browser disconnects.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-06T21:57:15.529496Z","created_by":"modha","updated_at":"2026-01-06T22:04:12.40437Z","closed_at":"2026-01-06T22:04:12.40437Z","close_reason":"Implemented tmux wrapper in lib/sessions.js","dependencies":[{"issue_id":"claude-go-20z","depends_on_id":"claude-go-tvd","type":"parent","created_at":"2026-01-06T21:57:15.530573Z","created_by":"modha"},{"issue_id":"claude-go-20z","depends_on_id":"claude-go-j5z","type":"blocks","created_at":"2026-01-06T21:57:15.531097Z","created_by":"modha"}]}
{"id":"claude-go-23q","title":"Device handoff (lease model)","description":"Heartbeat every 5s, lease expires after 15s. New device can take over after expiry. WebSocket notification to old device.","acceptance_criteria":"Switch devices without session locked errors. Old device shows takeover banner.","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-06T21:57:45.92638Z","created_by":"modha","updated_at":"2026-01-06T21:57:45.92638Z","dependencies":[{"issue_id":"claude-go-23q","depends_on_id":"claude-go-tvd","type":"parent","created_at":"2026-01-06T21:57:45.927568Z","created_by":"modha"},{"issue_id":"claude-go-23q","depends_on_id":"claude-go-iiw","type":"blocks","created_at":"2026-01-06T21:58:13.021425Z","created_by":"modha"}]}
{"id":"claude-go-279","title":"Drop zone for file uploads","description":"mkdir ~/dropzone on kube.lan. Files arrive via Tailscale/SCP/SFTP. Claude references ~/dropzone/filename. Optional: UI panel listing files with timestamps.","acceptance_criteria":"Files in /home/modha/dropzone/ visible to all Claude sessions. Optional UI panel shows files.","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-06T21:58:13.224111Z","created_by":"modha","updated_at":"2026-01-06T21:58:13.224111Z","dependencies":[{"issue_id":"claude-go-279","depends_on_id":"claude-go-tvd","type":"parent","created_at":"2026-01-06T21:58:13.225347Z","created_by":"modha"}]}
{"id":"claude-go-29n","title":"File sharing: images and docs from phone","description":"Share screenshots, photos, documents from iOS to Claude session.","design":"## Why\nCan't currently share images or files from phone. Claude often needs to see screenshots, error messages, etc.\n\n## Approach\nSimple solution: single dropzone folder on kube.lan. Separate upload UI using iOS file/photo picker. Files land in folder, user references them in conversation.\n\n## Acceptance Criteria\n- [ ] Dropzone folder exists on kube.lan (~/dropzone or similar)\n- [ ] Upload UI accessible from Claude Go (separate view or modal)\n- [ ] iOS file picker and photo picker both work\n- [ ] Uploaded files are accessible to Claude session\n\n## Workflow\n1. DRAW-DOWN: Create TodoWrite items from acceptance criteria\n2. Set up dropzone folder first\n3. Build upload UI\n4. Test with real photos/screenshots","status":"open","priority":2,"issue_type":"epic","created_at":"2026-01-07T20:44:43.668125Z","created_by":"modha","updated_at":"2026-01-07T20:44:43.668125Z"}
{"id":"claude-go-2bp","title":"Verify cross-references after skill rename","design":"After major skill rename session (2025-12-28), grep for old names that might still be referenced.\n\nOld → New:\n- working-together → collaborating\n- looking → screenshotting\n- close-session → session-closing\n- svg-dataviz → diagramming\n- maintaining-linux-servers → server-maintenance\n- itv-brand → itv-styling\n- skill-quality-gate → skill-checker\n- driving-browser-skill → browser-driving\n\nCheck: CLAUDE.md (global + project), other skills, commands, any .md files in ~/.claude","status":"tombstone","priority":2,"issue_type":"task","created_at":"2025-12-28T21:49:11.129649Z","updated_at":"2025-12-28T22:05:18.157235Z","deleted_at":"2025-12-28T22:05:18.157235Z","deleted_by":"daemon","delete_reason":"delete","original_type":"task"}
{"id":"claude-go-2jz","title":"Add find_my_pattern tool for retrieving email templates","description":"## Context\nDuring Gmail inbox clarify workflow, Claude needed to draft a welcome email matching a previous pattern. This took 3+ tool calls:\n1. search for past welcome emails\n2. get full email to extract format\n3. manually parse recipients, structure, Q\u0026A format\n\n## Proposed Tool\n```\nfind_my_pattern(topic=\"welcome email\", type=\"sent\")\n→ Returns: {\n    template_text: \"...\",\n    typical_recipients: [\"sales-7th-floor-group@itv.com\", ...],\n    attachments_used: [\"photo.jpg\"],\n    format_notes: \"Intro paragraph + 'X writes' section + Q\u0026A bullet list\"\n  }\n```\n\n## Implementation Notes\n- Search sent mail for topic\n- Extract addressee patterns (To, CC, BCC) across matching emails\n- Identify common structure (greeting style, sections, sign-off)\n- Return structured object, not raw email\n\n## Value\n- Single call instead of 3+\n- Captures *intent*: \"I've done this before, show me the pattern\"\n- Enables template-based drafting workflows\n\n## Real Example\nUser asked: \"draft a welcome email for Lauren following the pattern of previous ones\"\nClaude had to: search \"from:me subject:welcome writes\" → get full email → extract CC list → extract Q\u0026A format\nCould be: find_my_pattern(topic=\"new joiner welcome\", type=\"sent\")","design":"## API\n```python\nfind_my_pattern(\n    topic: str,           # e.g. \"welcome email\", \"weekly update\"\n    type: str = \"sent\",   # \"sent\" only for now\n    n: int = 1            # number of emails to analyze (default: most recent)\n) -\u003e {\n    template_text: str,           # full email body\n    typical_recipients: list,     # aggregated To/CC/BCC across n emails\n    attachments_used: list,       # filenames\n    structure: {                  # structural detection, NOT LLM inference\n        greeting_style: str,      # \"Hi [name],\" / \"Team,\" / etc\n        sections: list[str],      # headers/dividers found\n        bullet_patterns: list,    # \"- question? answer\" etc\n        sign_off: str             # \"Best,\" / \"Thanks,\" / etc\n    },\n    variance_note: str | None,    # \"3 matches found, structures vary\" if applicable\n    source_ids: list[str]         # email IDs analyzed (for provenance)\n}\n```\n\n## Implementation\n1. Search sent mail for topic (from:me + topic keywords)\n2. Fetch up to n matching emails\n3. Extract structural elements (greeting, sections, bullets, sign-off) — NO LLM inference\n4. Aggregate recipients across matches\n5. If n\u003e1 and structures vary, note variance but return most recent as primary\n6. Always include source email IDs\n\n## Key Decisions\n- Structural detection only — caller LLM infers \"Q\u0026A format\" from seeing the pattern\n- Most recent as primary, variance flagged if detected\n- Provenance mandatory for \"show me source\" and draft_reply(template_from=...) workflows","acceptance_criteria":"- [ ] Tool returns template_text from most recent matching email\n- [ ] Tool aggregates recipients (To/CC/BCC) across n emails\n- [ ] Tool extracts structural elements: greeting_style, sections, bullet_patterns, sign_off\n- [ ] Tool returns variance_note when n\u003e1 and structures differ\n- [ ] Tool always returns source_ids (email IDs analyzed)\n- [ ] Tool supports n parameter (default 1)\n- [ ] Structural detection only — no LLM inference baked in\n- [ ] Unit tests for structure extraction","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-04T20:44:27.94935Z","updated_at":"2026-01-04T21:30:59.666886Z"}
{"id":"claude-go-2sg","title":"Session folders: group by project/cwd","description":"Group sessions by working directory. Show folder structure in picker.","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-07T22:36:02.239089Z","created_by":"modha","updated_at":"2026-01-07T22:36:02.239089Z","dependencies":[{"issue_id":"claude-go-2sg","depends_on_id":"claude-go-miy","type":"parent-child","created_at":"2026-01-07T22:36:12.518926Z","created_by":"modha"}]}
{"id":"claude-go-2xb","title":"Centralize auth: single credential manager instead of per-call loading","description":"Current: Every tool calls get_credentials() which reads token.json from disk each time.\nOfficial pattern: AuthManager instantiated once at startup, services hold reference.\n\nBenefits of centralizing:\n- Single place for auth logging, metrics, error handling\n- No repeated disk reads (minor perf)\n- Cleaner separation of concerns\n- Easier to add token caching if needed\n\nNot urgent — current approach works — but it's a design smell worth fixing.","status":"tombstone","priority":2,"issue_type":"task","created_at":"2026-01-03T23:44:04.15991Z","updated_at":"2026-01-08T18:03:15.967312Z","close_reason":"Created services.py with centralized credential management and service caching","dependencies":[{"issue_id":"claude-go-2xb","depends_on_id":"claude-go-5ak","type":"parent-child","created_at":"2026-01-03T23:44:40.268205Z","created_by":"modha","metadata":"{}"},{"issue_id":"claude-go-2xb","depends_on_id":"claude-go-01t","type":"parent-child","created_at":"2026-01-04T11:27:12.683349Z","created_by":"modha","metadata":"{}"}],"deleted_at":"2026-01-08T18:03:15.967312Z","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"claude-go-39h","title":"Add MCP Resources for site guides and search strategy","description":"MyITV search can't find operational info (parking, facilities) because it lives in site-specific A-Z hubs with accordion content that isn't indexed. Claude needs upfront context about WHEN to use site guides vs search.","design":"## Problem\nSearching 'parking' returns noise (Barking, breaking). Real parking info is in White City A-Z page under 'Car Parking' accordion — but Claude doesn't know to look there.\n\n## Solution: MCP Resources + Tool\n\n### Resource 1: `myitv://sites`\nList of ITV office sites with A-Z guide URLs:\n- White City A-Z: https://my.itv.com/Home/Index/f945e163-606f-462b-ae01-27088f3a557b\n- Media City Travel: https://my.itv.com/Home/Index/31d2b54b-d1e0-4db2-b785-14116dfa11ee\n- Workplace Services hub: https://my.itv.com/Home/Index/1b846e09-37de-47cc-b178-7909e0786ca1\n- ID Pass: https://my.itv.com/Home/Index/a508aa7c-5fa8-4d63-8c96-9c8c656a7152\n\nInclude topics each covers (parking, catering, security, etc.)\n\n### Resource 2: `myitv://search-strategy`\nGuide on when to use search vs site guides:\n- Search: policies, documents, news\n- Site A-Z: parking, facilities, local amenities\n- Explains WHY accordion content isn't searchable\n\n### Tool: `get_site_guide(site, topic=\"\")`\nConvenience wrapper that:\n1. Takes site name (white-city, media-city) or \"list\"\n2. Fetches the A-Z page\n3. Optionally filters to section containing topic\n\n## Implementation\nUse FastMCP decorators:\n- @mcp.resource(\"myitv://sites\")\n- @mcp.resource(\"myitv://search-strategy\")\n- @mcp.tool() for get_site_guide\n\n## Files to modify\n- src/myitv_search/server.py\n\n## Reference\n- PLATFORM-NOTES.md has known GUIDs\n- White City A-Z content verified working via fetch_page","acceptance_criteria":"- [ ] myitv://sites resource returns markdown with office URLs\n- [ ] myitv://search-strategy resource explains when to use each approach\n- [ ] get_site_guide(\"white-city\") returns full A-Z content\n- [ ] get_site_guide(\"list\") shows available sites\n- [ ] get_site_guide(\"white-city\", \"parking\") filters to parking section\n- [ ] Resources visible via ListMcpResourcesTool","status":"closed","priority":2,"issue_type":"epic","created_at":"2026-01-05T10:37:40.062366Z","updated_at":"2026-01-05T11:00:12.906163Z","closed_at":"2026-01-05T11:00:12.906163Z","close_reason":"Added get_site_guide tool with fuzzy topic matching. Enhanced search to hint at site guides for facilities queries. Fixed accordion regex to handle A-Z index format. Tested parking and food queries successfully."}
{"id":"claude-go-3cw","title":"Permission cards: move from top banner to bottom panel","description":"Permission cards currently appear at top of screen AND tool use shows inline — duplicative and requires scrolling away from thumb zone. Should integrate into bottom panel as a modal state.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-07T16:46:10.685957Z","created_by":"modha","updated_at":"2026-01-07T16:46:10.685957Z","dependencies":[{"issue_id":"claude-go-3cw","depends_on_id":"claude-go-5yg","type":"parent-child","created_at":"2026-01-07T16:46:20.806342Z","created_by":"modha"}]}
{"id":"claude-go-3dq","title":"Build skill to discover official MCP servers","design":"## Problem\n\nMCPs exist that Claude doesn't know about unless explicitly enabled per-project. workspace-developer is one example - provides Google API docs, very useful for Apps Script work, but not globally enabled.\n\n## Desired Outcome\n\nA skill (or automated process) that:\n1. Scans known sources for official/vetted MCP servers\n2. Compares against currently-installed MCPs\n3. Suggests relevant ones based on current work context\n\n## Sources to Scan\n\n- Anthropic's official MCP repository (modelcontextprotocol org on GitHub)\n- Google's workspace-developer MCP and similar official integrations\n- Possibly community-curated lists (with trust assessment)\n\n## Open Questions\n\n- Should this be a skill (invoked on demand) or a hook (runs at session start)?\n- How to assess relevance to current project?\n- How to handle trust/vetting of community MCPs vs official ones?\n- Integration with the \"Available MCPs\" section in global CLAUDE.md\n\n## Prior Art\n\n- workspace-developer: Google's official MCP for Workspace API docs\n- The MCP ecosystem is growing - need to stay current","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-27T23:37:16.483858Z","updated_at":"2025-12-30T20:30:21.279229Z","closed_at":"2025-12-30T20:30:21.279229Z","close_reason":"Instead of building a discovery skill, adding 'Services to watch for MCPs' section to CLAUDE.md. Landscape is too fragmented for automation."}
{"id":"claude-go-3lg","title":"Handoff path encoding inconsistent between Claudes","description":"Different Claudes use different path encoding for handoff folders. Some use tr '/.' '-' (preserves @ and space), others encode more aggressively (@ and space → -). Results in fragmentation again.\n\n## Evidence\nAfter fix in this session, another Claude created:\n- `-Users-modha-Library-CloudStorage-GoogleDrive-sameer-modha-itv-com-My-Drive-Work`\n\nWhile our canonical is:\n- `-Users-modha-Library-CloudStorage-GoogleDrive-sameer-modha@itv-com-My Drive-Work`\n\n## Root cause\nsession-closing SKILL.md says 'encode path' but doesn't give exact command. Each Claude interprets encoding differently.\n\n## Fix\nAdd explicit encoding command to skill, or have scripts do the encoding and write to a known location.","notes":"## Additional bug: HANDOFF_DIR not output for container directories\n\nclose-context.sh only outputs HANDOFF_DIR when IS_CONTAINER=false. For container sessions (~/Repos, ~/Work), HANDOFF_DIR is missing entirely → Claude improvises → writes to CWD.\n\nFix: Move HANDOFF_DIR output outside the is_container conditional.","status":"open","priority":2,"issue_type":"bug","created_at":"2026-01-04T22:52:04.713831Z","updated_at":"2026-01-04T23:04:59.339452Z"}
{"id":"claude-go-3qp","title":"Update workspace://patterns/binary-vs-text resource","description":"The binary-vs-text resource may be stale after get_content() ergonomics changes. Should reflect new auto-routing philosophy.","design":"## Current State\nResource explains when to use read_file vs download_file.\n\n## What Changed\n- get_content() now auto-routes — callers don't need to decide\n- Shortcuts auto-resolve\n- Non-exportable types return guidance\n\n## Update Needed\n- Lead with \"use get_content() — it routes automatically\"\n- Keep the primitives documented for edge cases\n- Add the ergonomics principle","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-04T18:22:13.382774Z","updated_at":"2026-01-04T18:36:13.280354Z","closed_at":"2026-01-04T18:36:13.280354Z","close_reason":"Updated workspace://patterns/binary-vs-text resource to reflect get_content() auto-routing philosophy. Now leads with 'Just Use get_content()' instead of explaining separate read_file/download_file tools."}
{"id":"claude-go-419","title":"Add debug affordances for raw JSON inspection","description":"Currently tracing JSONL requires SSH + grep. Need UI affordances: copy-as-JSON button on messages, raw view toggle, peek at underlying data structure. Reduces friction when debugging rendering issues.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-07T00:17:04.847342Z","created_by":"modha","updated_at":"2026-01-07T00:17:04.847342Z"}
{"id":"claude-go-45b","title":"Adopt ASCII project structure diagrams in per-project CLAUDE.md","description":"Add ASCII directory tree diagrams as a standard pattern in project CLAUDE.md files.\n\nFrom ClaudeForge analysis: ASCII diagrams help Claude quickly understand directory layout\nwithout needing to run ls commands. Simple, token-efficient, and effective.","design":"## Pattern from ClaudeForge\n\nClaudeForge templates include ASCII tree diagrams:\n\n```\nproject/\n├── src/\n│   ├── components/\n│   │   └── ...\n│   ├── services/\n│   │   └── ...\n│   └── index.ts\n├── tests/\n├── package.json\n└── README.md\n```\n\n## Why This Helps\n\n1. **Immediate orientation**: Claude sees structure without tool calls\n2. **Token efficient**: ~50 tokens for a useful overview\n3. **Stable reference**: Doesn't drift like auto-generated listings\n4. **Human readable**: Users benefit too when reading CLAUDE.md\n\n## Implementation\n\n### Manual Approach\nWhen creating/updating project CLAUDE.md, include a tree diagram:\n\n```bash\n# Generate tree (exclude common noise)\ntree -L 2 -I 'node_modules|.venv|__pycache__|.git' --dirsfirst\n```\n\n### Automated in /init-project-claude-md\nThe init skill (sibling bead) should auto-generate this section.\n\n### Maintenance\n- Update when major restructuring happens\n- Don't track every file change\n- Keep to 2-3 levels of depth\n\n## Scope\n\nWhich projects need this?\n\n**High value:**\n- ~/Repos/* (development projects)\n- Complex subdirectories of Google Drive Work projects\n\n**Low value:**\n- Simple single-file projects\n- Projects where structure is obvious from name\n\n## Example for claude-memory\n\n```\nclaude-memory/\n├── src/\n│   └── mem/\n│       ├── cli.py          # Main CLI entry point\n│       ├── database.py     # SQLite + FTS5 operations\n│       ├── extraction.py   # LLM-based content extraction\n│       ├── adapters/       # Source-specific adapters\n│       └── glossary.py     # Entity resolution\n├── scripts/\n│   └── close-extraction.sh # Hook integration\n├── tests/\n└── pyproject.toml\n```\n\n## Success Criteria\n- [ ] 3+ project CLAUDE.md files have ASCII diagrams\n- [ ] Pattern documented in global CLAUDE.md or exegesis\n- [ ] /init-project-claude-md skill generates diagrams automatically\n\n## Effort\n- Adding to existing projects: Low (10 min each)\n- Automating in init skill: Part of that bead's scope","status":"closed","priority":3,"issue_type":"task","created_at":"2025-12-31T16:04:28.161911Z","updated_at":"2026-01-03T14:14:55.344698Z","closed_at":"2026-01-03T14:14:55.344698Z","close_reason":"Deferring - not a priority right now"}
{"id":"claude-go-45v","title":"Add /init-project-claude-md skill for bootstrapping new projects","description":"Create a skill that generates skeleton project CLAUDE.md files for new repositories,\ninspired by ClaudeForge's initialization workflow but producing our style of documentation.\n\nClaudeForge (https://github.com/alirezarezvani/ClaudeForge) has an interactive init flow\nthat explores a repo and generates CLAUDE.md. We want similar convenience but with our\nstructure and quality standards.","design":"## Context from ClaudeForge Analysis\n\nClaudeForge's approach:\n1. Explores repo structure (package.json, pyproject.toml, etc.)\n2. Detects tech stack, team size, project phase\n3. Generates CLAUDE.md from templates (solo/small-team/modular)\n4. Has a \"guardian agent\" for ongoing sync\n\nWhat we want differently:\n- Our structure (not ClaudeForge's generic templates)\n- Integration with existing skills architecture\n- No auto-sync (we prefer human-in-the-loop /close rituals)\n\n## Proposed Skill Structure\n\n```\n~/.claude/skills/init-project-claude-md/\n├── SKILL.md           # Skill definition\n└── templates/\n    ├── python-repo.md     # Python project template\n    ├── node-repo.md       # Node.js project template\n    ├── infra-repo.md      # Infrastructure docs template\n    └── generic.md         # Fallback template\n```\n\n## Workflow\n\n1. **Trigger**: User says \"init claude.md\" or runs `/init-project-claude-md`\n\n2. **Detection Phase**:\n   - Check for package.json → Node template\n   - Check for pyproject.toml/setup.py → Python template\n   - Check for Dockerfile, terraform, ansible → Infra template\n   - Fallback to generic\n\n3. **Exploration Phase**:\n   - Read existing README.md for project description\n   - List directory structure\n   - Identify key entry points (main.py, index.js, etc.)\n   - Check for existing .claude/ directory\n\n4. **Generation Phase**:\n   - Fill template with detected values\n   - Generate ASCII directory tree\n   - Add tech stack section\n   - Add setup commands (from README or inferred)\n\n5. **Review Phase**:\n   - Show generated CLAUDE.md to user\n   - Ask for confirmation before writing\n   - Open in editor for refinement\n\n## Template Structure (Our Style)\n\n```markdown\n# CLAUDE.md\n\n## What This Project Does\n[One paragraph from README or user input]\n\n## Project Structure\n[ASCII tree diagram]\n\n## Key Files\n[Prose explanation of important directories/files]\n\n## Setup\n[Commands to get running]\n\n## Development Workflow\n[How to test, build, deploy]\n\n## Decisions \u0026 Gotchas\n[Empty section for future documentation]\n```\n\nNote: Deliberately minimal. Grows organically via /close insights.\n\n## Success Criteria\n- [ ] Detects Python/Node/Infra projects correctly\n- [ ] Generates ASCII tree diagram\n- [ ] Extracts project description from README\n- [ ] Produces valid CLAUDE.md in our style\n- [ ] Asks for confirmation before writing\n- [ ] Works for ~/Repos projects\n\n## Considerations\n\n1. **Don't over-generate**: ClaudeForge templates are 150-175 lines. Ours should start at ~50 lines and grow organically.\n\n2. **No auto-sync**: We document via /close reflection, not automated scanning.\n\n3. **Respect existing**: If CLAUDE.md exists, offer to enhance rather than replace.\n\n4. **Project vs global**: This creates PROJECT-level CLAUDE.md, not modifications to global ~/.claude/CLAUDE.md.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-31T16:04:26.330497Z","updated_at":"2026-01-03T14:14:54.19832Z","closed_at":"2026-01-03T14:14:54.19832Z","close_reason":"Deferring - not a priority right now"}
{"id":"claude-go-4bf","title":"Copy attach command button","description":"One-tap copy 'tmux attach -t claude-xxx' command to clipboard.","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-07T22:37:00.618557Z","created_by":"modha","updated_at":"2026-01-07T22:37:00.618557Z","dependencies":[{"issue_id":"claude-go-4bf","depends_on_id":"claude-go-66i","type":"parent-child","created_at":"2026-01-07T22:37:10.151491Z","created_by":"modha"}]}
{"id":"claude-go-4jy","title":"Bug report button: capture state for debugging","description":"UI button that snapshots current state (messages, panel, permissions, WS status) to a file or endpoint. For when something barfs and user wants to capture before it's lost.","design":"## Captures\n- state object (messages, pendingPermissions, currentInteraction, answeredQuestions)\n- Last N WebSocket messages\n- Console errors (if capturable)\n- Timestamp, session ID, device ID\n\n## Output options\n- POST to /api/debug-snapshot (saves to disk)\n- Or download as JSON file\n- Could auto-create bead if bd available on server\n\n## UI\n- Small bug icon in header (near terminal button)\n- Tap → \"Snapshot saved\" toast","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-07T22:43:12.315604Z","created_by":"modha","updated_at":"2026-01-07T22:43:12.315604Z","dependencies":[{"issue_id":"claude-go-4jy","depends_on_id":"claude-go-z2q","type":"parent-child","created_at":"2026-01-07T22:43:22.012695Z","created_by":"modha"}]}
{"id":"claude-go-4mu","title":"Add denial flow test to Playwright suite","description":"Automated test: trigger Write, tap Deny, verify file not created and terminal shows rejection. Currently untested path.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-07T17:55:57.922443Z","created_by":"modha","updated_at":"2026-01-07T17:55:57.922443Z","dependencies":[{"issue_id":"claude-go-4mu","depends_on_id":"claude-go-z2q","type":"parent-child","created_at":"2026-01-07T22:32:09.712085Z","created_by":"modha"}]}
{"id":"claude-go-56w","title":"Extract hyperlinks from Sheets cells","description":"Sheets hyperlinks require a fundamentally different API path. Current implementation uses spreadsheets.values.get which returns only raw values. To get hyperlinks, need spreadsheets.get with includeGridData: true, then read cell.hyperlink or cell.textFormatRuns[].format.link.uri.","design":"## Current State\nSheetsService.getText uses:\n```typescript\nsheets.spreadsheets.values.get({\n    spreadsheetId: id,\n    range: `'${sheetName}'`,\n});\n```\nThis returns only cell values, no metadata.\n\n## Required Change\nNeed to use:\n```typescript\nsheets.spreadsheets.get({\n    spreadsheetId: id,\n    includeGridData: true,\n    ranges: [`'${sheetName}'`],\n});\n```\nThen iterate through gridData[].rowData[].values[].hyperlink\n\n## Considerations\n- includeGridData: true is heavier - consider making it opt-in via parameter\n- Could add new tool sheets_getTextWithLinks or add includeLinks: boolean param\n- textFormatRuns allows partial cell linking (like \"Click [here](url) for more\") - more complex to parse\n\n## Acceptance Criteria\n- [ ] Cells with hyperlinks emit [cell text](url) format\n- [ ] Non-linked cells unchanged\n- [ ] Performance acceptable (or opt-in flag for heavy mode)","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-05T20:25:23.884213Z","updated_at":"2026-01-05T20:25:23.884213Z","dependencies":[{"issue_id":"claude-go-56w","depends_on_id":"claude-go-fic","type":"parent-child","created_at":"2026-01-05T20:26:11.957309Z","created_by":"modha","metadata":"{}"}]}
{"id":"claude-go-5ak","title":"Bakeoff Jan 2026: Features to Adopt from Official MCP","description":"Features from Official Google MCP that we should adopt or learn from","design":"## Context\nDuring bakeoff, Official MCP showed capabilities we lack.\nThese are enhancements, not bugs - our MCP works, but could do more.\n\n## Philosophy\nKeep our opinionated, LLM-friendly approach.\nAdd coverage where Official excels (Calendar, multi-sheet, table extraction).\n\n## Priority\nCalendar is highest value - completely missing capability.\nTable extraction from Slides is nice-to-have.","acceptance_criteria":"- [ ] Calendar management: list, create, update, delete events\n- [ ] Table data extraction from Slides (not just noting existence)\n- [ ] Consider: Docs CRUD operations (insert, append, replace text)","status":"tombstone","priority":1,"issue_type":"epic","created_at":"2026-01-03T23:23:05.958052Z","updated_at":"2026-01-08T18:03:15.967312Z","deleted_at":"2026-01-08T18:03:15.967312Z","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"epic"}
{"id":"claude-go-5du","title":"Add README explaining notes structure to future Claude","description":"## Context\nThe apple-notes folder contains personal tuition notes (Jake sessions) vs group module notes. Future Claude sessions need to understand which is which.\n\n## Acceptance Criteria\n- [ ] README in references/apple-notes/ explaining:\n  - DBT Notes - Jake.md = personal tuition sessions\n  - Jake DBT Refresher = summary/refresher\n  - modules/ = group course notes (Module 1 is comprehensive)\n- [ ] Note that 'biscuit gate', 'sausage roll' etc are real family scenarios, not code names","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-03T20:46:54.942047Z","updated_at":"2026-01-03T20:46:54.942047Z"}
{"id":"claude-go-5o5","title":"JSONL tailer + parser","description":"lib/jsonl.js: Watch ~/.claude/projects/-home-modha-Repos/*.jsonl with chokidar. Line-buffered reader for partial write safety. Parse message types, accumulate streaming content, emit to WebSocket subscribers.","acceptance_criteria":"Streams parsed messages via WebSocket as file updates. Handles partial writes during streaming.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-06T21:57:23.809109Z","created_by":"modha","updated_at":"2026-01-06T22:04:12.462714Z","closed_at":"2026-01-06T22:04:12.462714Z","close_reason":"Implemented JSONL parser and watcher in lib/jsonl.js","dependencies":[{"issue_id":"claude-go-5o5","depends_on_id":"claude-go-tvd","type":"parent","created_at":"2026-01-06T21:57:23.810208Z","created_by":"modha"},{"issue_id":"claude-go-5o5","depends_on_id":"claude-go-j5z","type":"blocks","created_at":"2026-01-06T21:57:23.810693Z","created_by":"modha"}]}
{"id":"claude-go-5vz","title":"Loading states for session fetch","description":"Show skeleton/spinner when loading session list or session content","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-07T22:33:42.334345Z","created_by":"modha","updated_at":"2026-01-07T22:33:42.334345Z","dependencies":[{"issue_id":"claude-go-5vz","depends_on_id":"claude-go-a77","type":"parent-child","created_at":"2026-01-07T22:33:49.03662Z","created_by":"modha"}]}
{"id":"claude-go-5yg","title":"Thumb-friendly interaction: all interactive elements at bottom","description":"Mobile UX principle: keep all interactive elements (input, buttons, options) near the bottom where thumbs can reach. The bottom panel should morph to handle different interaction modes rather than scattering controls around the screen.","status":"open","priority":2,"issue_type":"epic","created_at":"2026-01-07T16:45:54.920981Z","created_by":"modha","updated_at":"2026-01-07T16:45:54.920981Z"}
{"id":"claude-go-5yg.1","title":"Hide legacy permission banner (now redundant)","description":"Bottom panel now handles permissions. The top banner is redundant and clutters the UI. Remove or hide it.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-07T19:31:19.802165Z","created_by":"modha","updated_at":"2026-01-07T19:31:19.802165Z","dependencies":[{"issue_id":"claude-go-5yg.1","depends_on_id":"claude-go-5yg","type":"parent-child","created_at":"2026-01-07T19:31:19.802575Z","created_by":"modha"}]}
{"id":"claude-go-61p","title":"Write README for spm1001/workspace fork","description":"Document standalone OAuth setup for team sharing. Branch: itv-auth.","design":"## Content needed\n- Why the fork exists (ITV OAuth approval)\n- How to set up credentials.json\n- Build instructions\n- How to sync with upstream","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-03T14:53:42.195963Z","updated_at":"2026-01-03T15:33:21.904764Z","closed_at":"2026-01-03T15:33:21.904764Z","close_reason":"Created FORK.md documenting standalone OAuth setup, credentials config, and upstream sync"}
{"id":"claude-go-66i","title":"Desk return: handoff to real CLI","description":"Smoothly transition from phone (Claude Go) to desktop (real CLI or desktop browser).","design":"## Why\nThe promise is: start on train, continue at desk. But how exactly do you \"continue at desk\"?\n\n## Options identified\nA. Claude Go in desktop browser (already works, same URL)\nB. SSH + tmux attach (real terminal, your fonts/shortcuts)\nC. Local Claude with same session ID (needs file sync)\nD. Syncthing to bridge ~/Repos (enables C)\n\n## Acceptance Criteria\n- [ ] Options documented clearly for user\n- [ ] Consider: \"Hand off to terminal\" button showing tmux attach command\n- [ ] Consider: session state export for local resume\n\n## Workflow\n1. Document what works today (Option A, B)\n2. Assess if UI affordance helps (handoff button)\n3. Defer Syncthing/local-resume unless needed","status":"open","priority":2,"issue_type":"epic","created_at":"2026-01-07T20:44:43.812182Z","created_by":"modha","updated_at":"2026-01-07T20:44:43.812182Z"}
{"id":"claude-go-6b2","title":"Working directory anchoring","description":"Users often want Claude anchored in a specific subfolder of Repos. Current architecture assumes ~/Repos but JSONL path encoding depends on cwd. Need to think about: session-specific cwd, path encoding handling, UI for choosing starting folder.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-06T22:10:57.030861Z","created_by":"modha","updated_at":"2026-01-06T22:10:57.030861Z","dependencies":[{"issue_id":"claude-go-6b2","depends_on_id":"claude-go-tvd","type":"parent","created_at":"2026-01-06T22:10:57.032513Z","created_by":"modha"}]}
{"id":"claude-go-6f4","title":"Bug: Stale permission cards survive server restart","description":"When server restarts, pending permissions in UI aren't cleared. User sees old card, clicks Deny, keystroke goes to dead/wrong session. Saw this when investigating denial timing — first deny went to session 172685af (old) when user thought they were in a6e655a8 (new).","status":"open","priority":2,"issue_type":"bug","created_at":"2026-01-07T17:55:32.064386Z","created_by":"modha","updated_at":"2026-01-07T17:55:32.064386Z","dependencies":[{"issue_id":"claude-go-6f4","depends_on_id":"claude-go-a77","type":"parent-child","created_at":"2026-01-07T22:32:09.776743Z","created_by":"modha"}]}
{"id":"claude-go-6fo","title":"Add 'check bd blocked for strategic context' to beads skill","description":"At session start, checking only bd ready gives task queue but not strategic picture. Should also check bd blocked to understand dependency graph and what completing current work unlocks.","design":"Add to Session Start Protocol section: after bd ready, run bd blocked to see what's waiting. Helps orient to 'what am I building toward' not just 'what can I do next'.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-28T22:40:09.526885Z","updated_at":"2025-12-30T19:17:06.389411Z","closed_at":"2025-12-30T19:17:06.389411Z","close_reason":"Relocated to skill-beads repo as skill-beads-e4e (P1). Skills have moved out of ~/.claude."}
{"id":"claude-go-6kz","title":"Session naming from Claude slugs","description":"Capture human-friendly session names like 'prancy-sleeping-hamming' from Claude output. Currently showing just UUIDs which are hard to distinguish.","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-06T22:10:51.850943Z","created_by":"modha","updated_at":"2026-01-06T22:10:51.850943Z","dependencies":[{"issue_id":"claude-go-6kz","depends_on_id":"claude-go-tvd","type":"parent","created_at":"2026-01-06T22:10:51.852006Z","created_by":"modha"}]}
{"id":"claude-go-6vf","title":"Investigate mystery conversation label source","description":"\"Web UI renders Claude Code JSON conversations\" appears in the UI but we don't know where it's coming from in the JSONL. Track down the source.","status":"open","priority":2,"issue_type":"bug","created_at":"2026-01-07T00:17:04.051784Z","created_by":"modha","updated_at":"2026-01-07T00:17:04.051784Z"}
{"id":"claude-go-6xt","title":"Screenshot share intent handler","description":"Accept share intent from other apps. PWA manifest addition.","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-07T22:38:11.046801Z","created_by":"modha","updated_at":"2026-01-07T22:38:11.046801Z","dependencies":[{"issue_id":"claude-go-6xt","depends_on_id":"claude-go-29n","type":"parent-child","created_at":"2026-01-07T22:38:19.87917Z","created_by":"modha"}]}
{"id":"claude-go-74h","title":"Handle nested brackets in link text","description":"Current escaping handles [text] but not [text with [nested] brackets].\n\nEdge case - rare in practice but could break markdown parsing if encountered.\n\nMay need recursive escaping or different approach.","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-05T20:39:09.689113Z","updated_at":"2026-01-05T20:39:09.689113Z"}
{"id":"claude-go-7jh","title":"Verify all skill symlinks resolve correctly","design":"After skill migration, verify symlinks work:\n\nls -la ~/.claude/skills/*/SKILL.md\n\nShould show resolved paths, not broken symlinks. Also test that skills load in new Claude session.","status":"tombstone","priority":2,"issue_type":"task","created_at":"2025-12-28T21:49:12.539654Z","updated_at":"2025-12-28T22:05:18.186303Z","deleted_at":"2025-12-28T22:05:18.186303Z","deleted_by":"daemon","delete_reason":"delete","original_type":"task"}
{"id":"claude-go-7k8","title":"Fix multi-sheet spreadsheet handling - only returns first sheet","description":"get_content() on Google Sheets only returns the first sheet as CSV. Multi-sheet spreadsheets lose data.","design":"## Comparison\nOfficial MCP (sheets_getText): Returns ALL sheets with \"Sheet Name: X\" headers\nOrganic MCP (get_content): Returns only first sheet as CSV\n\n## Options\n1. Return all sheets concatenated with headers (like Official)\n2. Return xlsx binary for multi-sheet (triggers xlsx Skill)\n3. Add sheet selection parameter\n4. Return metadata indicating multiple sheets exist\n\n## Recommendation\nOption 1 for text mode, with metadata showing sheet count.\nFor purpose='archival', use option 2 (xlsx binary).","notes":"NEXT UP: Multi-sheet spreadsheet handling - only returns first sheet","status":"closed","priority":1,"issue_type":"bug","created_at":"2026-01-03T23:22:39.03053Z","updated_at":"2026-01-04T18:14:26.702897Z","closed_at":"2026-01-04T18:14:26.702897Z","close_reason":"Created sheets.py with read_sheets_as_csv() using Sheets API. Now extracts ALL sheets with headers, not just first sheet. Metadata includes sheet_count and sheet names list.","dependencies":[{"issue_id":"claude-go-7k8","depends_on_id":"claude-go-01t","type":"parent-child","created_at":"2026-01-03T23:25:18.237643Z","created_by":"modha","metadata":"{}"}]}
{"id":"claude-go-7p4","title":"Extract footnotes and bookmarks from Docs","description":"Docs API returns footnotes and bookmarks in the document structure. These are currently ignored. Lower priority as less commonly used.","design":"## API Data\nAlready available in documents.get response:\n- `footnotes` - map of footnote ID to content\n- `footnoteReferences` in paragraph elements - point to footnotes\n- `bookmarks` - named locations in document\n\n## Markdown Representation\nFootnotes: Standard markdown footnote syntax\n```\nSome text[^1] with a footnote.\n\n[^1]: The footnote content here.\n```\n\nBookmarks: No standard markdown - could emit HTML anchor or skip\n\n## Acceptance Criteria\n- [ ] Footnotes appear as markdown footnotes\n- [ ] Footnote references link to correct content\n- [ ] Bookmarks handled (even if just preserved as IDs)","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-05T20:26:05.091826Z","updated_at":"2026-01-05T20:26:05.091826Z","dependencies":[{"issue_id":"claude-go-7p4","depends_on_id":"claude-go-fic","type":"parent-child","created_at":"2026-01-05T20:26:12.100746Z","created_by":"modha","metadata":"{}"}]}
{"id":"claude-go-85r","title":"Improve screenshotting skill proactive triggers","design":"Issue: Proactive use ('verify state after uncertain CLI operations') doesn't fire reliably.\n\nOptions:\n1. Add BEFORE/MANDATORY pattern to description\n2. Move proactive behavior to CLAUDE.md as baseline behavior\n3. Add specific trigger phrases: 'did that work?', 'check if it ran'\n\nTest with adversarial prompts to verify trigger reliability.","status":"tombstone","priority":2,"issue_type":"task","created_at":"2025-12-28T21:13:48.427735Z","updated_at":"2025-12-28T22:05:18.242343Z","deleted_at":"2025-12-28T22:05:18.242343Z","deleted_by":"daemon","delete_reason":"delete","original_type":"task"}
{"id":"claude-go-8em","title":"Document how to attach to Claude Go session from CLI","description":"tmux attach pattern. Add to CLAUDE.md Commands section.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-07T22:37:00.27185Z","created_by":"modha","updated_at":"2026-01-07T22:37:00.27185Z","dependencies":[{"issue_id":"claude-go-8em","depends_on_id":"claude-go-66i","type":"parent-child","created_at":"2026-01-07T22:37:10.023591Z","created_by":"modha"}]}
{"id":"claude-go-8lt","title":"Handoff path fragmentation from symlink vs canonical path","description":"Google Drive symlink causes handoffs to land in different folders depending on how user cd'd to Work. pwd returns different values for same logical location, encoding differs, handoffs fragment.\n\nDiscovered during 1mx investigation. Claude in Work couldn't find 'right' handoff because it was looking at canonical path while handoffs were in symlink-path folder.\n\n## Current behavior\n- ~/Google Drive is symlink to ~/Library/CloudStorage/GoogleDrive-...\n- pwd returns whichever path you used to get there\n- Encoding differs: -Users-modha-Google Drive-... vs -Users-modha-Library-CloudStorage-...\n- Handoffs split across two folders\n\n## Expected behavior\n- All handoffs for same logical location land in same folder\n- Use pwd -P to canonicalize before encoding","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-01-04T22:18:13.246233Z","updated_at":"2026-01-04T22:22:38.831813Z","closed_at":"2026-01-04T22:22:38.831813Z","close_reason":"Fixed alongside 1mx: pwd -P canonicalization in both scripts, migration script ran and consolidated Work folder handoffs."}
{"id":"claude-go-8qt","title":"Add tests for Google API error pattern detection","description":"The error detection in get_content() uses string matching ('404' in error_msg). Add tests with realistic Google API error strings to verify the patterns work. Consider parsing actual exception types for robustness.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-04T21:15:04.480126Z","updated_at":"2026-01-04T21:15:04.480126Z"}
{"id":"claude-go-95c","title":"Codify ritual prompts as structural scaffolding","description":"Observation: prompts like 'what have we missed?', 'what could go wrong?', 'what could be better?' are unreasonably effective but require user to remember to ask. These should be built into skill phase gates, hooks, or periodic nudges — not dependent on human memory. Also relates to inter-Claude communication (passing messages between parallel sessions).","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-28T10:00:54.996123Z","updated_at":"2025-12-29T09:48:29.176481Z","closed_at":"2025-12-29T09:48:29.176481Z","close_reason":"Migrated to skill-session-management (ssm-s55)"}
{"id":"claude-go-9cl","title":"Remove sendKeys debug logging","description":"Cleanup: remove console.log BEFORE/AFTER in lib/sessions.js sendKeys(). Added during denial timing investigation, no longer needed.","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-07T17:56:01.707258Z","created_by":"modha","updated_at":"2026-01-07T17:56:01.707258Z"}
{"id":"claude-go-9z2","title":"Test Google Workspace MCP tool coverage","description":"Test Calendar, Docs, Sheets, Chat, Drive tools. Verify which work with current ITV OAuth scopes.","design":"## Tools to test\n- calendar.listEvents, calendar.createEvent\n- docs.create, docs.getText\n- sheets.getText, sheets.getRange\n- chat.listSpaces (may fail — new scope)\n- drive.search\n\n## Expected issues\n- Chat scopes may not be approved by ITV\n- gmail.modify vs gmail.readonly difference\n\n## Migrated from\nclaude-go-0fi in ~/.claude","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-03T15:31:27.855105Z","updated_at":"2026-01-03T15:31:27.855105Z"}
{"id":"claude-go-a0l","title":"Add consistent error handling pattern across all tools","description":"Official MCP pattern: Each service has handleError() method.\n\ndef handle_error(error, context: str):\n    logger.error(f\"Error during {context}: {error}\")\n    return {\"error\": str(error), \"context\": context}\n\nBenefits:\n- Consistent error format for Claude to parse\n- Centralized logging\n- Context about which operation failed\n\nCurrently our error handling is scattered and inconsistent.","status":"tombstone","priority":2,"issue_type":"task","created_at":"2026-01-03T23:49:06.961952Z","updated_at":"2026-01-08T18:03:15.967312Z","close_reason":"Added handle_api_error() and format_error_response() to utils.py","dependencies":[{"issue_id":"claude-go-a0l","depends_on_id":"claude-go-5ak","type":"parent-child","created_at":"2026-01-03T23:49:23.863544Z","created_by":"modha","metadata":"{}"},{"issue_id":"claude-go-a0l","depends_on_id":"claude-go-01t","type":"parent-child","created_at":"2026-01-04T11:27:22.965609Z","created_by":"modha","metadata":"{}"}],"deleted_at":"2026-01-08T18:03:15.967312Z","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"claude-go-a0w","title":"Visual feedback for slash command execution","description":"Show when slash command is running. Different from normal message.","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-07T22:38:35.31233Z","created_by":"modha","updated_at":"2026-01-07T22:38:35.31233Z","dependencies":[{"issue_id":"claude-go-a0w","depends_on_id":"claude-go-ak9","type":"parent-child","created_at":"2026-01-07T22:38:42.980118Z","created_by":"modha"}]}
{"id":"claude-go-a1h","title":"Fix binary format detection - always reports 'pdf'","description":"get_content() returns format:'pdf' for xlsx, pptx, and other binary files. The mimeType is correct but format field is wrong.","design":"## Location\nLikely in the format detection logic of get_content()\n\n## Expected Behavior\n- xlsx files → format: \"xlsx\"\n- pptx files → format: \"pptx\"  \n- pdf files → format: \"pdf\"\n- docx files → format: \"docx\"\n\n## Evidence\nTest 7 (xlsx): format: \"pdf\", mimeType: \"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet\"\nTest 8 (pptx): format: \"pdf\", mimeType: \"application/vnd.openxmlformats-officedocument.presentationml.presentation\"","notes":"COMPLETED: Fixed format detection for all file types:\n\n1. Binary files (xlsx, pptx, docx, pdf, images): Now report correct format instead of always 'pdf'\n2. Google Drawings: Added proper format mapping, defaults to SVG (text-based)\n3. Non-exportable types (Forms, Sites, Scripts, Shortcuts, Folders, Colab): Return marker formats with helpful error messages\n4. SVG: Removed from binary list since it's XML text, now properly decoded\n\nKEY DECISION: Fallback for truly unknown MIME types changed from 'pdf' to extracted subtype (e.g., 'application/zip' → 'zip')","status":"closed","priority":1,"issue_type":"bug","created_at":"2026-01-03T23:22:33.081806Z","updated_at":"2026-01-04T17:31:58.141482Z","closed_at":"2026-01-04T17:26:18.355052Z","close_reason":"Fixed select_optimal_format() in utils.py to recognize binary file MIME types (xlsx, pptx, docx, pdf, images). Also added smart subtype extraction for unknown MIME types. Tests updated and passing.","dependencies":[{"issue_id":"claude-go-a1h","depends_on_id":"claude-go-01t","type":"parent-child","created_at":"2026-01-03T23:25:13.091391Z","created_by":"modha","metadata":"{}"}]}
{"id":"claude-go-a77","title":"Connection \u0026 state feedback","description":"User can see at a glance: Am I connected? Is Claude typing? Waiting for me? Finished?","design":"## Why\nCurrently you have to infer state from the conversation. The Connected indicator exists but is broken. No typing indicator. No clear \"Claude is waiting for your input\" state.\n\n## Acceptance Criteria\n- [ ] Connected/Disconnected indicator works reliably\n- [ ] \"Claude is typing...\" shown during response generation\n- [ ] \"Waiting for you\" shown when interaction pending\n- [ ] Permission acknowledgment feedback (equivalent to italic→normal for messages)\n\n## Workflow\n1. DRAW-DOWN: Create TodoWrite items from acceptance criteria\n2. Fix Connected indicator first (foundation)\n3. Add typing state\n4. Add waiting state\n5. Permission ack feedback","status":"open","priority":2,"issue_type":"epic","created_at":"2026-01-07T20:44:17.387983Z","created_by":"modha","updated_at":"2026-01-07T20:44:17.387983Z"}
{"id":"claude-go-aig","title":"Extract workspace-fluency to separate skill repo","design":"Currently lives inside mcp-workspace repo at skills/workspace-fluency/. \n\nDecision made: skills should be decoupled from MCPs for visibility (ls ~/Repos | grep skill- shows the set).\n\nSteps:\n1. Create ~/Repos/skill-workspace-fluency/\n2. Copy content from mcp-workspace/skills/workspace-fluency/\n3. Update symlink ~/.claude/skills/workspace-fluency → new location\n4. Remove skills/ folder from mcp-workspace repo\n5. Update any cross-references","status":"tombstone","priority":2,"issue_type":"task","created_at":"2025-12-28T21:39:56.832847Z","updated_at":"2025-12-28T22:05:18.041288Z","deleted_at":"2025-12-28T22:05:18.041288Z","deleted_by":"daemon","delete_reason":"delete","original_type":"task"}
{"id":"claude-go-ak9","title":"Slash command support","description":"Handle /context, /exit and other slash commands gracefully in mobile UI.","design":"## Why\nSlash commands work (they're just text input) but the output isn't parsed. /context shows ANSI grid that's useful but not rendered nicely.\n\n## Acceptance Criteria\n- [ ] /context output parsed to show context usage grid cleanly\n- [ ] Common slash commands documented for mobile users\n- [ ] Consider: quick-access buttons for /exit, /context?\n\n## Workflow\n1. DRAW-DOWN: Create TodoWrite items from acceptance criteria\n2. Parse /context ANSI first (most useful)\n3. Assess if quick-access buttons add value","status":"open","priority":2,"issue_type":"epic","created_at":"2026-01-07T20:44:43.525851Z","created_by":"modha","updated_at":"2026-01-07T20:44:43.525851Z"}
{"id":"claude-go-amh","title":"todoist-gtd skill missing Personal vs MIT project split","description":"Skill doesn't document the two-account structure: personal projects (Personal, @Home, etc) vs MIT shared projects (Desired Outcomes H1, Areas of Focus, etc). User had to correct Claude when it tried to add personal outcome to MIT Desired Outcomes H1. Skill should document this split and which projects are personal vs team.","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-04T18:38:18.030827Z","updated_at":"2026-01-04T22:41:34.618571Z","closed_at":"2026-01-04T22:41:34.618571Z","close_reason":"Documented Personal vs MIT shared project split in todoist-gtd skill. Added table showing which projects are personal vs team-visible, and critical distinction between Personal project's 'Desired Outcomes' section vs Desired Outcomes Q4/H1 projects."}
{"id":"claude-go-an5","title":"Work through Undergraduate Course in Causality","description":"## Desired Outcome\nUnderstood core causal inference concepts well enough to apply them and explain to others.\n\n## Source Material\nhttps://hdsr.mitpress.mit.edu/pub/uynpjlow/release/3\n\n## Approach\n- Claude as teacher/guide\n- Build demos to solidify understanding\n- Work through exercises\n\n## Acceptance Criteria\n- [ ] Can explain difference between correlation and causation formally\n- [ ] Understand DAGs and d-separation\n- [ ] Can identify confounders, colliders, mediators\n- [ ] Built at least one interactive demo","status":"tombstone","priority":3,"issue_type":"epic","created_at":"2026-01-03T20:31:41.395424Z","updated_at":"2026-01-08T17:59:57.194342Z","deleted_at":"2026-01-08T17:59:57.194342Z","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"epic"}
{"id":"claude-go-byb","title":"File picker for documents","description":"Select PDFs, docs from phone. Upload and reference in conversation.","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-07T22:38:10.864697Z","created_by":"modha","updated_at":"2026-01-07T22:38:10.864697Z","dependencies":[{"issue_id":"claude-go-byb","depends_on_id":"claude-go-29n","type":"parent-child","created_at":"2026-01-07T22:38:19.815362Z","created_by":"modha"}]}
{"id":"claude-go-byw","title":"Add shared validation schemas (Zod patterns for emails, dates, IDs)","description":"Official MCP pattern: Reusable Zod schemas for common input types.\n\nExamples:\n- iso8601DateTimeSchema (validates datetime format)\n- emailArraySchema (single email or array)  \n- googleDocumentIdSchema (alphanumeric with hyphens/underscores)\n- calendarIdSchema ('primary' or email)\n\nBenefits: Define once, validate consistently, better error messages.\nLow effort, improves robustness.","status":"tombstone","priority":2,"issue_type":"task","created_at":"2026-01-03T23:48:54.587844Z","updated_at":"2026-01-08T18:03:15.967312Z","close_reason":"Created validation.py with email, calendar ID, date, and page size validators","dependencies":[{"issue_id":"claude-go-byw","depends_on_id":"claude-go-5ak","type":"parent-child","created_at":"2026-01-03T23:49:18.726345Z","created_by":"modha","metadata":"{}"},{"issue_id":"claude-go-byw","depends_on_id":"claude-go-01t","type":"parent-child","created_at":"2026-01-04T11:27:17.826641Z","created_by":"modha","metadata":"{}"}],"deleted_at":"2026-01-08T18:03:15.967312Z","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"claude-go-bzr","title":"Session naming: show/edit conversation title","description":"Display conversation title from JSONL summary. Allow rename. Currently shows truncated UUID.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-07T22:35:55.211811Z","created_by":"modha","updated_at":"2026-01-07T22:35:55.211811Z","dependencies":[{"issue_id":"claude-go-bzr","depends_on_id":"claude-go-miy","type":"parent-child","created_at":"2026-01-07T22:35:55.323252Z","created_by":"modha"}]}
{"id":"claude-go-cf1","title":"Field Report: Todoist find-tasks hides tasks assigned to others by default","description":"The Todoist MCP's find-tasks tool defaults responsibleUserFiltering to 'unassignedOrMe', which hides tasks assigned to other collaborators in shared projects. This caused duplicate creation when Claude couldn't see existing tasks assigned to teammates.","design":"## Context\nWorking on MIT Contract Stewardship bead (Lantern-c6d). Needed to update Todoist \"Supplier Relationships\" section with descriptions for 7 suppliers.\n\n## Observation\nInitial find-tasks query returned only 6 tasks (assigned to Sameer). Created 7 \"new\" supplier tasks. User pointed out duplicates existed — the originals were assigned to Stefano and Lauren, invisible to Claude's API queries.\n\nThe culprit: `responsibleUserFiltering` defaults to `unassignedOrMe`. To see ALL tasks in a section (regardless of assignee), must explicitly set `responsibleUserFiltering: \"all\"`.\n\n## Impact\n- Created 7 duplicate tasks before discovering the issue\n- Had to delete duplicates, then update originals by ID\n- Working doc incorrectly stated \"only 6 entries\" because Claude couldn't see the other 12\n\n## Suggestion\nThe todoist-gtd skill should document this gotcha prominently. When querying shared projects (especially Areas of Focus sections used for stewardship), always use `responsibleUserFiltering: \"all\"` unless you specifically want only your tasks.\n\nConsider adding to skill:\n- Warning about default filtering behavior\n- Pattern for \"show me everything in this section\" queries\n- Note that fetch-object by ID bypasses this filter (useful for updates)","acceptance_criteria":"- [ ] todoist-gtd SKILL.md documents responsibleUserFiltering default behavior\n- [ ] Includes example of querying with \"all\" for shared project sections\n- [ ] Notes that fetch-object by ID works regardless of assignment","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-04T20:59:09.034722Z","updated_at":"2026-01-04T21:23:12.591766Z","closed_at":"2026-01-04T21:23:12.591766Z","close_reason":"Added Assignment Filtering section to todoist-gtd SKILL.md documenting the responsibleUserFiltering gotcha, with examples and mode reference table. Added cross-reference warning in Find by Person section.","labels":["field-report"]}
{"id":"claude-go-ch0","title":"Google Docs comment extraction","description":"Extract comments from Google Docs via Drive API comments.list(). Neither our MCP nor Google's official MCP currently handles this.\n\nContext from exploration:\n- Comments are via Drive API, not Docs API\n- Requires separate API call: drive.comments().list(fileId)\n- Comments have anchor positions (character ranges in doc)\n- Need to decide output format: inline markers vs section at end\n\nOptions considered:\n1. Quick: Append comments as section at end (no position mapping)\n2. Full: Inline markers with definitions (like footnotes)\n\nReferences:\n- Google API: https://developers.google.com/workspace/drive/api/guides/manage-comments\n- Test doc with comment: 1hUbfIpP6HjSIBRMNW8RxQuVhQFGKP0EwWgtQNAw19N0","notes":"Test doc with comment: 1hUbfIpP6HjSIBRMNW8RxQuVhQFGKP0EwWgtQNAw19N0 (Markdown Edge Cases)","status":"tombstone","priority":2,"issue_type":"task","created_at":"2026-01-05T20:30:00.588454Z","updated_at":"2026-01-08T18:02:51.714125Z","dependencies":[{"issue_id":"claude-go-ch0","depends_on_id":"claude-go-66i","type":"parent-child","created_at":"2026-01-07T22:37:00.385663Z","created_by":"modha"},{"issue_id":"claude-go-ch0","depends_on_id":"claude-go-29n","type":"parent-child","created_at":"2026-01-07T22:38:10.802379Z","created_by":"modha"}],"deleted_at":"2026-01-08T18:02:51.714125Z","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"claude-go-cm6","title":"Test web-init.sh in Claude Code web environment","design":"Verify the web-init.sh script works when running Claude Code from claude.ai web interface:\n\n1. Start a Claude Code web session (claude.ai → terminal)\n2. Check if CLAUDE_CODE_REMOTE=true is set\n3. Run the web-init.sh script manually or via hooks\n4. Verify beads CLI installs correctly\n5. Test bd commands work in the web environment\n\nAcceptance:\n- [ ] Web session correctly detects CLAUDE_CODE_REMOTE=true\n- [ ] beads CLI installs via go install\n- [ ] bd commands work (bd ready, bd show, etc.)\n- [ ] Update script or mark as working","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-27T16:33:06.6622Z","updated_at":"2025-12-30T20:20:30.668469Z","closed_at":"2025-12-30T20:20:30.668469Z","close_reason":"Won't pursue — web Claude Code doesn't support user-level skills or local MCPs. Would need to restructure entire skills approach for marginal benefit."}
{"id":"claude-go-csl","title":"Refactor app.js into ES modules","description":"Current monolithic app.js mixes rendering, state, API, handlers. Split into modules for maintainability. Consider: render.js (message formatting), state.js (single source of truth), api.js (WebSocket + HTTP), handlers.js (event handling). Simple state store pattern, no framework yet.","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-07T00:17:53.467641Z","created_by":"modha","updated_at":"2026-01-07T00:17:53.467641Z"}
{"id":"claude-go-dge","title":"Field Report: Run tests before refactoring","description":"Pattern observed: we refactored, then updated tests, then ran out of context before verifying. Better pattern: run existing tests first to establish baseline.","design":"## Context\nDuring dx9 cleanup, we made surgical code changes then updated tests to match new behavior.\n\n## Observation\nNever ran the tests to verify they pass. This means:\n- No baseline before changes\n- No verification after changes\n- Next Claude inherits uncertainty\n\n## Suggestion\nBefore refactoring:\n1. Run existing tests (expect some to pass)\n2. Make changes\n3. Run tests again (expect failures in areas we changed)\n4. Update tests\n5. Verify all pass\n\nThe \"test first\" discipline catches when tests are already broken vs when you broke them.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-07T21:33:21.522661Z","created_by":"modha","updated_at":"2026-01-07T21:33:21.522661Z","labels":["field-report"]}
{"id":"claude-go-dl2","title":"Clean up web playground repos","design":"Four repos identified, most redundant:\n\nKEEP:\n- claude-web-playground - Has actual code (browser-vs-fetch experiment), good docs\n- playpen-browsermcp - Has local .mcp.json for BrowserMCP, use as canonical 'heavy MCP' workspace\n\nDELETE:\n- playpen-playwright - Empty skeleton, no code, no setup done\n- claude-playwright-env - Already deleted this session\n\nAfter cleanup: update ~/Repos/CLAUDE.md if it references these","status":"tombstone","priority":2,"issue_type":"task","created_at":"2025-12-28T21:39:59.380628Z","updated_at":"2025-12-28T22:05:18.097204Z","deleted_at":"2025-12-28T22:05:18.097204Z","deleted_by":"daemon","delete_reason":"delete","original_type":"task"}
{"id":"claude-go-doz","title":"MCP-free todoist-gtd skill for team starter package","description":"Create a version of todoist-gtd that uses direct REST API calls instead of the Todoist MCP. This removes the ~13k token overhead from MCP tool definitions and enables the team starter package to work without global MCP configuration.","design":"## Approach\n\nThe current todoist-gtd skill is a **semantic layer** that provides meaning/coaching on top of MCP data access. It doesn't make MCP calls itself — it guides Claude on HOW to use MCP tools.\n\nFor MCP-free version:\n1. Create shell scripts that call Todoist REST API directly\n2. Update SKILL.md to reference scripts instead of MCP tools\n3. Handle auth via Keychain (same pattern as existing MCP wrapper)\n\n## Key API Mappings\n\n| MCP Tool | REST API Equivalent |\n|----------|---------------------|\n| `find_projects()` | `GET /rest/v2/projects` |\n| `find_sections(projectId)` | `GET /rest/v2/sections?project_id=X` |\n| `find_tasks(sectionId)` | `GET /rest/v2/tasks?section_id=X` |\n| `complete_tasks(id)` | `POST /rest/v2/tasks/{id}/close` |\n| `add_tasks(...)` | `POST /rest/v2/tasks` |\n| `add_sections(...)` | `POST /rest/v2/sections` |\n| `find_comments(taskId)` | `GET /rest/v2/comments?task_id=X` |\n| `user_info()` | No direct equivalent (use Sync API or skip) |\n| `get_overview()` | Composite (projects + sections + tasks) |\n\n## Workflow\n\n1. DRAW-DOWN: Create TodoWrite items from acceptance criteria\n2. Create scripts in skills/todoist-gtd/scripts/\n3. Update SKILL.md to use Bash calls instead of MCP references\n4. Test against real Todoist account\n5. Copy to itv-claude-starter","acceptance_criteria":"- [ ] Shell scripts exist for: get-projects, get-sections, get-tasks, complete-task, add-task, add-section, get-comments\n- [ ] Scripts authenticate via Keychain (TODOIST_API_TOKEN pattern)\n- [ ] SKILL.md updated to reference Bash scripts instead of MCP tools\n- [ ] Scripts handle common query patterns (filter by project, section, label)\n- [ ] Error handling for auth failures, rate limits\n- [ ] Tested with real Todoist data\n- [ ] Copied to itv-claude-starter/skills/todoist-gtd/","status":"tombstone","priority":1,"issue_type":"task","created_at":"2026-01-06T21:48:54.019404Z","updated_at":"2026-01-08T18:16:39.863873Z","deleted_at":"2026-01-08T18:16:39.863873Z","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"claude-go-dt5","title":"Systemd deployment","description":"claude-go.service unit file. Bind to 100.110.220.64 (Tailscale IP). Environment variables for production.","acceptance_criteria":"Service runs on kube.lan port 7682, survives reboot, Tailscale-only binding.","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-06T21:58:13.32243Z","created_by":"modha","updated_at":"2026-01-06T21:58:13.32243Z","dependencies":[{"issue_id":"claude-go-dt5","depends_on_id":"claude-go-tvd","type":"parent","created_at":"2026-01-06T21:58:13.323496Z","created_by":"modha"},{"issue_id":"claude-go-dt5","depends_on_id":"claude-go-j5z","type":"blocks","created_at":"2026-01-06T21:58:13.323969Z","created_by":"modha"}],"comments":[{"id":1,"issue_id":"claude-go-dt5","author":"modha","text":"Before deploying: stop and disable claude-web.service (ttyd) on kube.lan. Commands: sudo systemctl stop claude-web \u0026\u0026 sudo systemctl disable claude-web","created_at":"2026-01-06T22:05:55Z"},{"id":2,"issue_id":"claude-go-dt5","author":"modha","text":"Verify tmux is installed on kube.lan: which tmux","created_at":"2026-01-06T22:10:41Z"}]}
{"id":"claude-go-dx9","title":"Clean UI: Kill dualism and legacy code","description":"Remove the double-rendering of permissions (banner AND panel) and unify question answer paths. One way to do each thing.","design":"## Why\nThe UI evolved organically. Permissions render in two places (legacy banner at top, new panel at bottom). Questions have three answer paths (inline cards, panel, direct input). This creates maintenance burden and confusion.\n\n## Acceptance Criteria\n- [ ] Legacy permission banner removed entirely\n- [ ] All interactions flow through bottom panel only\n- [ ] Inline cards are read-only context (not interactive)\n- [ ] One code path per interaction type\n\n## Workflow\n1. DRAW-DOWN: Create TodoWrite items from acceptance criteria\n2. Kill banner first (it's vestigial)\n3. Unify answer paths\n4. Clean up dead code","notes":"## Completed\n- Removed legacy permission banner (~45 lines function, ~105 lines CSS)\n- Removed all 7 calls to renderPermissionBanner\n- Removed legacy event delegation block (~25 lines)\n- Made inline question/plan cards read-only (removed click handlers)\n- Updated CSS to remove hover/active effects on inline cards\n- Removed unused `loadingQuestions` state\n- Updated test-ui.py to use panel selectors instead of inline\n\n## For Next Claude\n**Tests need running:**\n```bash\nHOST=127.0.0.1 npm run dev \u0026\n~/.claude/.venv/bin/python scripts/test-ui.py\n```\n\n**test_rapid_clicks still needs updating** — uses inline selectors, should use panel.\n\nTests were partially updated:\n- multi-question ✓\n- multiselect ✓  \n- plan approve/reject ✓\n- permission approve/deny ✓\n- rapid_clicks ✗ (still uses inline)\n\n## Key Changes in Tests\n- click_question_option() now clicks panel not inline\n- Added click_panel_option() and panel_visible() helpers\n- Permission tests check via API not DOM cards","status":"closed","priority":2,"issue_type":"epic","created_at":"2026-01-07T20:43:57.038673Z","created_by":"modha","updated_at":"2026-01-07T21:33:21.12486Z","closed_at":"2026-01-07T20:54:33.784883Z","close_reason":"Removed legacy permission banner (function, CSS, event handlers). Made inline question/plan cards read-only (removed click handlers, removed hover/active CSS effects). All interactions now flow through bottom panel only. Removed dead code (loadingQuestions state). One code path per interaction type."}
{"id":"claude-go-dx9.1","title":"Inline cards need visual distinction from interactive","description":"Inline question/plan cards are now read-only but still look like buttons. Add visual cue that they're answered/non-interactive.","design":"## Why\nAfter cleanup, inline cards are read-only context. But they still have button styling, so users might try to tap them.\n\n## Options\n1. Add \"Answered\" badge\n2. More aggressive graying/opacity\n3. Remove button styling entirely (just text blocks)\n4. Add \"Responded via bottom panel\" indicator\n\n## Acceptance Criteria\n- [ ] Inline cards visually distinct from panel buttons\n- [ ] Clear that tapping inline card won't do anything","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-07T21:33:21.31327Z","created_by":"modha","updated_at":"2026-01-07T21:33:21.31327Z","dependencies":[{"issue_id":"claude-go-dx9.1","depends_on_id":"claude-go-dx9","type":"parent-child","created_at":"2026-01-07T21:33:21.313873Z","created_by":"modha"},{"issue_id":"claude-go-dx9.1","depends_on_id":"claude-go-a77","type":"parent-child","created_at":"2026-01-07T22:32:01.126281Z","created_by":"modha"}]}
{"id":"claude-go-eab","title":"Accept URLs or IDs in tool inputs (input normalization)","description":"Official MCP pattern: Tools accept either file ID or full Google URL, normalize internally.\n\nExample from Official:\n  presentationId: 'The ID or URL of the presentation'\n  → Service extracts ID if given URL\n\nReduces cognitive load on Claude — just pass whatever you have.\nCurrently our tools require bare IDs, so Claude must extract IDs from URLs first.","status":"tombstone","priority":2,"issue_type":"task","created_at":"2026-01-03T23:44:28.49963Z","updated_at":"2026-01-08T18:03:15.967312Z","close_reason":"Created validation.py with extract_file_id() for URL/ID normalization","dependencies":[{"issue_id":"claude-go-eab","depends_on_id":"claude-go-5ak","type":"parent-child","created_at":"2026-01-03T23:44:45.404814Z","created_by":"modha","metadata":"{}"},{"issue_id":"claude-go-eab","depends_on_id":"claude-go-01t","type":"parent-child","created_at":"2026-01-04T11:27:07.533086Z","created_by":"modha","metadata":"{}"}],"deleted_at":"2026-01-08T18:03:15.967312Z","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"claude-go-ehp","title":"Session search/filter in picker","description":"Search sessions by name, filter by project. Important when session count grows.","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-07T22:36:22.193577Z","created_by":"modha","updated_at":"2026-01-07T22:36:22.193577Z","dependencies":[{"issue_id":"claude-go-ehp","depends_on_id":"claude-go-miy","type":"parent-child","created_at":"2026-01-07T22:36:29.902989Z","created_by":"modha"}]}
{"id":"claude-go-enm","title":"Improve collaborating skill triggers and reduce CLAUDE.md overlap","design":"Issues identified:\n1. Vague trigger 'when noticing drift from stated principles' doesn't fire reliably\n2. Side quests philosophy duplicated in both CLAUDE.md and skill\n3. Need sharper MANDATORY/BEFORE language in description\n\nImprovements needed:\n- Add specific trigger phrases that will actually fire\n- Dedupe side quests content (keep in CLAUDE.md, reference from skill)\n- Consider BEFORE pattern: 'BEFORE adding to plate, check overcommitment'\n- Test trigger reliability with adversarial prompts","status":"tombstone","priority":2,"issue_type":"task","created_at":"2025-12-28T21:10:46.968221Z","updated_at":"2025-12-28T22:05:18.212877Z","deleted_at":"2025-12-28T22:05:18.212877Z","deleted_by":"daemon","delete_reason":"delete","original_type":"task"}
{"id":"claude-go-ero","title":"Push notifications (ntfy.sh)","description":"lib/notify.js: Detect idle state from JSONL, push to ntfy.sh topic. Phone setup: install ntfy app, subscribe to topic.","acceptance_criteria":"Phone buzzes when Claude waiting for input (assistant + end_turn + 2s debounce).","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-06T21:57:45.832688Z","created_by":"modha","updated_at":"2026-01-06T22:10:36.351249Z","dependencies":[{"issue_id":"claude-go-ero","depends_on_id":"claude-go-tvd","type":"parent","created_at":"2026-01-06T21:57:45.833883Z","created_by":"modha"},{"issue_id":"claude-go-ero","depends_on_id":"claude-go-5o5","type":"blocks","created_at":"2026-01-06T21:57:45.83441Z","created_by":"modha"}]}
{"id":"claude-go-esq","title":"Make switch config authoritative for port assignments","design":"Switch-centric model: gs324tp_ports (and future zyxel_ports) becomes canonical source for port→device mapping, VLANs, PoE. AP definitions don't duplicate. Add infra_lib helper: get_switch_port(device_name) to query from switch config. Enables switch config generation for ZyXEL.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-29T10:32:38.740711Z","updated_at":"2025-12-30T19:03:54.462925Z","closed_at":"2025-12-30T19:03:54.462925Z","close_reason":"Implemented in infra-openwrt. Bead was created in wrong location."}
{"id":"claude-go-ew5","title":"Reflash isaacap (broken by incomplete bridge-vlan config)","design":"## What happened\nAdded bridge-vlan for VLAN 10 without preserving VLAN 1, breaking all network traffic.\nConfig persisted via uci commit, survives power cycle.\n\n## To fix\n1. Factory reset (hold reset 10+ sec) OR pull off wall\n2. Download new AP image from build 20570461080\n3. Flash via sysupgrade\n4. Verify Antimatter AND Antimacassar both work\n\n## Root cause to fix in code\nThe firstboot script needs BOTH bridge-vlan entries:\n- VLAN 1 untagged (main LAN)\n- VLAN 10 tagged (guest)\n\nThis needs adding to 99-campbell-ap before any more AP flashing.","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-29T10:36:00.864933Z","updated_at":"2025-12-30T19:03:15.509295Z","closed_at":"2025-12-30T19:03:15.509295Z","close_reason":"Fixed. AP reflashed, infra-openwrt project matured. This bead was created in wrong location (~/.claude instead of infra-openwrt)."}
{"id":"claude-go-f0t","title":"Auto-reconnect WebSocket with exponential backoff","description":"When WS drops, attempt reconnection. Show status. Related to tvd.3 but focused on UX.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-07T22:32:59.690752Z","created_by":"modha","updated_at":"2026-01-07T22:32:59.690752Z","dependencies":[{"issue_id":"claude-go-f0t","depends_on_id":"claude-go-a77","type":"parent-child","created_at":"2026-01-07T22:32:59.806112Z","created_by":"modha"}]}
{"id":"claude-go-fic","title":"Rich content extraction from Google Workspace documents","description":"getText tools currently flatten rich content to plain text, discarding metadata available in the API responses. This epic tracks extracting that metadata into the markdown output.","design":"## Context\nWhen retrieving documents via docs_getText, slides_getText, sheets_getText, the APIs return structured data including:\n- Hyperlinks (textStyle.link.url / style.link.url)\n- Text formatting (bold, italic, underline)\n- Comments (separate API call)\n- Footnotes, bookmarks (Docs only)\n- Cell hyperlinks (Sheets - requires different API path)\n\nThe extraction code discards all but the text content.\n\n## Completed\n- [x] Links in Docs (_readStructuralElement)\n- [x] Links in Slides (extractTextFromTextContent)\n\n## Remaining\n- [ ] Bold/italic → markdown **text** and *text*\n- [ ] Sheets hyperlinks (requires includeGridData: true)\n- [ ] Comments (separate API call)\n- [ ] Footnotes/bookmarks (Docs only)\n\n## Design Principle\nEmit markdown-compatible output where possible. For metadata that doesn't map to markdown (e.g., comments), consider optional JSON sidecar or inline annotations.","status":"tombstone","priority":2,"issue_type":"epic","created_at":"2026-01-05T20:24:58.765513Z","updated_at":"2026-01-08T18:00:18.665747Z","dependencies":[{"issue_id":"claude-go-fic","depends_on_id":"claude-go-miy","type":"parent-child","created_at":"2026-01-07T22:36:22.309639Z","created_by":"modha"}],"deleted_at":"2026-01-08T18:00:18.665747Z","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"epic"}
{"id":"claude-go-fql","title":"Field Report: Direct markdown approach beats Official's HTML intermediate step","description":"Bakeoff finding: Our direct markdown-to-Google-Docs conversion produces higher quality output than Official MCP's approach.\n\nOfficial approach:\n  markdown → marked (HTML) → jsdom (DOM) → Docs API formatting requests\n\nOur approach:\n  markdown → Google Drive import API (native markdown support)\n\nThe HTML intermediate step loses fidelity. Google's native markdown import is better.\n\nThis is a WIN for Organic MCP. Don't adopt their pattern here.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-03T23:49:41.486084Z","updated_at":"2026-01-04T11:26:11.730583Z","closed_at":"2026-01-04T11:26:11.730583Z","close_reason":"Field report, not actionable","labels":["field-report"]}
{"id":"claude-go-fr1","title":"Extract comments from Docs","description":"Google Docs comments are not in the document body - they require a separate API call to drive.comments.list. Consider how to surface these in the text output.","design":"## API Path\nComments require:\n```typescript\ndrive.comments.list({\n    fileId: documentId,\n    fields: 'comments(id,content,author,quotedFileContent,anchor,replies)',\n});\n```\n\n## Design Decisions\n1. **Where to surface comments?**\n   - Inline at anchor point: `Some text [COMMENT: \"Is this right?\" - Jane]`\n   - Separate section at end of document\n   - Optional JSON sidecar alongside text\n\n2. **Include replies?** Comments can have threads\n\n3. **Resolved comments?** Include or filter out?\n\n## Acceptance Criteria\n- [ ] Design decision made on comment representation\n- [ ] Comments retrievable from Docs\n- [ ] Comments appear in output (format TBD)\n- [ ] Option to exclude comments if not needed","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-05T20:25:55.407165Z","updated_at":"2026-01-05T20:25:55.407165Z","dependencies":[{"issue_id":"claude-go-fr1","depends_on_id":"claude-go-fic","type":"parent-child","created_at":"2026-01-05T20:26:12.028987Z","created_by":"modha","metadata":"{}"}]}
{"id":"claude-go-fws","title":"Bug: Multi-question AskUserQuestion loses sync between UI and terminal","description":"When AskUserQuestion has multiple questions (especially with multi-select), answering in the UI doesn't properly sync with terminal state. User can answer Q1, but Q2 gets stuck — terminal shows question waiting, UI shows answered, new messages don't deliver. Had to manually send Tab+Enter via tmux to unstick. Multi-select came back empty even though options were selected in UI.","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-01-07T16:58:04.968847Z","created_by":"modha","updated_at":"2026-01-08T08:28:07.034183Z","closed_at":"2026-01-08T08:28:07.034183Z","close_reason":"Fixed: multiselect now sends Space after each option number to toggle selection","dependencies":[{"issue_id":"claude-go-fws","depends_on_id":"claude-go-a77","type":"parent-child","created_at":"2026-01-07T22:32:09.840108Z","created_by":"modha"}]}
{"id":"claude-go-g7u","title":"Scoring algorithm buries content matches behind title matches","description":"We DO have fullText search (gather.py:275) but score_relevance() weights title matches at 50% and gives content-only matches 0% boost. A folder named \"MIT Manual\" scores 0.6+ while a doc containing \"MIT Manual\" in body scores only 0.15.\n\nOptions:\n1. Return Google's results unranked (simplest - trust Google's relevance)\n2. Rebalance scoring to give content matches fair weight\n3. Offer both modes (ranked vs raw)\n\nRoot cause: Over-engineering. We added a relevance layer that's worse than Google's.","design":"## Current Behavior\nsearch_workspace(topic=\"measurement\") → finds folders named \"measurement\"\n\n## Expected Behavior  \nsearch_workspace(topic=\"measurement\") → finds files CONTAINING \"measurement\"\n\n## Google Drive API\nOfficial uses: fullText contains 'measurement'\nWe might be using: name contains 'measurement'\n\n## Implementation\nCheck how we build the Drive API query in search_workspace()\nAdd fullText search, possibly keep name search as fallback or combine.\n\n## Trade-off\nfullText search is slower but more useful for discovery.\nName search is faster but only for navigation.\nConsider: search both, rank fullText matches higher?","notes":"COMPLETED: Two commits for this fix:\n1. First rebalanced scoring weights (content +20%, title reduced to 25%)\n2. Then simplified further: removed scoring entirely, trust Google's ranking\n\nFinal approach: fullText first (Google order), name matches appended at end.\nRemoved 95 lines of scoring logic.","status":"closed","priority":1,"issue_type":"bug","created_at":"2026-01-03T23:22:45.239375Z","updated_at":"2026-01-04T13:44:16.763773Z","closed_at":"2026-01-04T13:25:48.840424Z","close_reason":"Rebalanced scoring: content matches now 20% boost (was 0%), title matches reduced to 25% (was 50%)","dependencies":[{"issue_id":"claude-go-g7u","depends_on_id":"claude-go-01t","type":"parent-child","created_at":"2026-01-03T23:25:23.385165Z","created_by":"modha","metadata":"{}"}]}
{"id":"claude-go-h6f","title":"Improve session-closing to capture work-in-progress","design":"Gap identified: close ritual asks about git/learnings but doesn't check for incomplete work.\n\nShould add: 'TodoWrite has N items, M beads created. Capture outstanding work as beads before closing?'\n\nThis prevents context loss when sessions end with pending tasks.","status":"tombstone","priority":2,"issue_type":"task","created_at":"2025-12-28T21:49:09.569451Z","updated_at":"2025-12-28T22:05:18.126385Z","deleted_at":"2025-12-28T22:05:18.126385Z","deleted_by":"daemon","delete_reason":"delete","original_type":"task"}
{"id":"claude-go-iiw","title":"Input handling","description":"Wire up input textarea to tmux send-keys. Quick action buttons for common operations.","acceptance_criteria":"Can send messages, Ctrl+C interrupt, approve/reject buttons work via tmux send-keys.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-06T21:57:45.74197Z","created_by":"modha","updated_at":"2026-01-06T21:57:45.74197Z","dependencies":[{"issue_id":"claude-go-iiw","depends_on_id":"claude-go-tvd","type":"parent","created_at":"2026-01-06T21:57:45.743328Z","created_by":"modha"},{"issue_id":"claude-go-iiw","depends_on_id":"claude-go-20z","type":"blocks","created_at":"2026-01-06T21:57:45.743859Z","created_by":"modha"},{"issue_id":"claude-go-iiw","depends_on_id":"claude-go-r7t","type":"blocks","created_at":"2026-01-06T21:57:45.745472Z","created_by":"modha"},{"issue_id":"claude-go-iiw","depends_on_id":"claude-go-ak9","type":"parent-child","created_at":"2026-01-07T22:38:35.251922Z","created_by":"modha"}]}
{"id":"claude-go-j4c","title":"Improve document editing ergonomics","description":"## Context\n\nTested the google-workspace MCP's doc editing tools while adding image placeholders to a consolidated onboarding guide. The tools work but the ergonomics are limited compared to what a higher-level abstraction could offer.\n\n## Current State\n\nAvailable tools:\n- `docs_insertText` — insert at beginning only\n- `docs_appendText` — append at end only  \n- `docs_replaceText` — find/replace all occurrences\n\n### What Works\n- `replaceText` is effective for surgical insertions if you find unique anchor strings\n- Batching multiple replacements in parallel is efficient\n- The actual replacement mechanics are solid\n\n### What's Ropey\n1. **No positional insertion** — can only insert at beginning, append at end, or find-replace. If you want to add something after a paragraph that isn't unique text, you're stuck.\n2. **Must read first** — need to see exact text to find a unique anchor. Can't say 'after section 2' or 'after the 3rd heading'.\n3. **No visibility into structure** — can't target 'the 3rd bullet point' or 'after the table'. It's all string matching.\n4. **Workaround pattern** — find unique sentence near insertion point → replace with same sentence + addition. Works but feels like picking locks rather than using keys.\n\n## Ideal Ergonomics\n\nFor an MCP abstracting the raw APIs, document editing should feel more like how humans think about editing:\n\n### 1. Structural Navigation\n```\ndocs_insertAfter(documentId, anchor, text)\n  anchor options:\n    - { heading: 'Section Name' }\n    - { heading_level: 2, index: 3 }  // 3rd H2\n    - { paragraph_containing: 'unique text' }\n    - { after_table: 1 }  // after first table\n    - { end_of_section: 'Section Name' }\n```\n\n### 2. Structural Awareness  \n```\ndocs_getStructure(documentId)\n  returns:\n    - headings with levels and positions\n    - tables with row/col counts\n    - lists with nesting\n    - images/embeds\n```\n\nThis lets Claude understand the doc shape before editing.\n\n### 3. Safe Multi-Edit\n```\ndocs_batchEdit(documentId, edits[])\n  edits applied in reverse document order to preserve positions\n  atomic: all succeed or none\n```\n\n### 4. Section Operations\n```\ndocs_replaceSection(documentId, sectionName, newContent)\ndocs_appendToSection(documentId, sectionName, content)\n```\n\n## Implementation Notes\n\nThe Google Docs API does support positional operations via startIndex/endIndex, but:\n- Requires knowing exact character positions\n- Positions shift as edits are made\n- The raw API is complex (batchUpdate with requests array)\n\nThe abstraction layer should:\n1. Use `docs_getStructure` internally to map anchors to positions\n2. Handle position arithmetic for multi-edit batches\n3. Expose human-readable anchoring to Claude\n\n## Acceptance Criteria\n\n- [ ] Can insert text after a heading by name\n- [ ] Can get document structure (headings, tables, lists)\n- [ ] Can append to a named section\n- [ ] Batch edits work without position drift issues","status":"open","priority":3,"issue_type":"feature","created_at":"2026-01-05T12:27:40.367466Z","updated_at":"2026-01-05T12:27:40.367466Z"}
{"id":"claude-go-j5z","title":"Set up Node.js project structure","description":"Express + ws server scaffold. Create package.json, server.js, public/ directory structure.","acceptance_criteria":"npm start runs server on port 7682, serves static HTML at /","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-06T21:57:05.890336Z","created_by":"modha","updated_at":"2026-01-06T22:04:12.347652Z","closed_at":"2026-01-06T22:04:12.347652Z","close_reason":"Created package.json, server.js, lib/sessions.js, lib/jsonl.js, public/* files","dependencies":[{"issue_id":"claude-go-j5z","depends_on_id":"claude-go-tvd","type":"parent","created_at":"2026-01-06T21:57:05.891395Z","created_by":"modha"}]}
{"id":"claude-go-jj5","title":"Gather and organize DBT materials into coaching skill","description":"## Desired Outcome\nBuilt a DBT coaching skill that provides quick reminders and roleplay practice.\n\n## Source Materials\n- Apple Notes (user will paste)\n- Other DBT materials (user will point to location)\n\n## Approach\n1. Gather all materials\n2. Organize by DBT module (Mindfulness, Distress Tolerance, Emotion Regulation, Interpersonal Effectiveness)\n3. Distill key concepts into reference docs\n4. Create roleplay scenarios for practice\n\n## Acceptance Criteria\n- [ ] Core concepts documented in references/\n- [ ] At least one scenario per module in scenarios/\n- [ ] SKILL.md populated with key concepts\n- [ ] Can do a practice roleplay session","status":"tombstone","priority":2,"issue_type":"epic","created_at":"2026-01-03T20:32:11.540516Z","updated_at":"2026-01-08T17:59:57.147865Z","deleted_at":"2026-01-08T17:59:57.147865Z","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"epic"}
{"id":"claude-go-jo1","title":"Reference: Bakeoff Architecture Deep Dive (Jan 2026)","description":"Full analysis doc: https://docs.google.com/document/d/10A7CxDQOrnU-_pkOfQp8c6nEUhk2QflHGoHKFUH1K5M/edit\n\nCompares Official Google Workspace MCP vs Organic (this repo):\n- 50 vs 16 tools\n- Coverage gaps (Calendar CRUD, Chat)\n- Architectural patterns (auth, validation, error handling)\n- What to adopt vs what to keep\n\nLinks both bug fix and feature epics.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-03T23:55:18.058366Z","updated_at":"2026-01-04T11:26:06.562892Z","closed_at":"2026-01-04T11:26:06.562892Z","close_reason":"Reference doc, not actionable","labels":["reference"]}
{"id":"claude-go-jr0","title":"Image upload from phone camera/gallery","description":"Attach images to messages. Upload to server, pass path to Claude.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-07T22:38:10.688509Z","created_by":"modha","updated_at":"2026-01-07T22:38:10.688509Z","dependencies":[{"issue_id":"claude-go-jr0","depends_on_id":"claude-go-29n","type":"parent-child","created_at":"2026-01-07T22:38:19.750138Z","created_by":"modha"}]}
{"id":"claude-go-k0z","title":"Add validation gates to spec → beads workflow","description":"Acceptance criteria answer \"did we build it?\" but not \"does it serve the purpose?\"\nNeed explicit validation milestones in specs that become gate beads.\n\nSurfaced twice recently - once in claude-memory extraction, once before.","design":"## Proposal\n\n1. Specs get `## Validation Gate` sections after each phase\n2. Gate describes: what questions must be answerable? what should work?\n3. When spec → beads, validation gates become \"validate\" type beads\n4. Validate beads block downstream phases\n\n## Where to implement\n\n- skill-creator: add validation gate guidance to spec template\n- beads skill: mention validation gates in issue creation guidance\n- Plan agent: prompt for validation criteria when planning phases\n\n## Example\n\n```markdown\n## Phase 2: Entity Pipeline\n\n### Deliverables\n- Hook triggers extraction\n- Entities stored in database\n\n### Validation Gate (before Phase 3)\n**Test:** Can we answer these from extracted data?\n1. What were the big builds recently?\n2. What skills are used most?\n\nIf not → iterate before proceeding.\n```","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-28T16:58:05.091172Z","updated_at":"2025-12-30T20:31:51.611145Z","closed_at":"2025-12-30T20:31:51.611145Z","close_reason":"Won't do — too fussy."}
{"id":"claude-go-ks9","title":"Test artifact-aware handoff pattern in Google Drive session","description":"session-closing skill now has Knowledge Work Context section. Test it by doing a real session in Google Drive, using /close, and seeing if the Artifacts section populates usefully. Skill changes are uncommitted in claude-modus — commit if it works, iterate if not.","status":"tombstone","priority":1,"issue_type":"task","created_at":"2026-01-06T18:31:15.236457Z","updated_at":"2026-01-08T18:16:39.903483Z","deleted_at":"2026-01-08T18:16:39.903483Z","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"claude-go-kzx","title":"Update GitHub remotes to match renamed repos","design":"All skill repos were renamed locally but GitHub remotes not updated.\n\nPattern: gh repo rename NEW-NAME --repo OWNER/OLD-NAME\n\nRepos needing GitHub rename (check which have remotes first):\n- skill-todoist-gtd, skill-collaborating, skill-screenshotting, skill-session-closing, skill-session-opening, skill-diagramming, skill-filing, skill-beads, skill-server-maintenance, skill-itv-styling, skill-checker, skill-cleanup-github, skill-browser-driving\n\nSome may be local-only (no remote yet). For those, just create new GitHub repo with correct name.","status":"tombstone","priority":2,"issue_type":"task","created_at":"2025-12-28T21:39:57.993131Z","updated_at":"2025-12-28T22:05:18.069357Z","deleted_at":"2025-12-28T22:05:18.069357Z","deleted_by":"daemon","delete_reason":"delete","original_type":"task"}
{"id":"claude-go-lsh","title":"Validate Phase 2 extraction output","description":"Validation gate for Phase 2: Does extraction actually support the 5 benchmark questions?\n\nThis is the explicit pause to check purpose-correctness before moving to Phase 3.","design":"## Validation Test\n\nRun winning extraction (after cn2 evaluation) on diverse sessions.\nAttempt to answer:\n\n1. How can we improve /open /close ritual?\n2. What were the big builds and learnings recently?\n3. Top 5 TIL blog post candidates?\n4. Claude.ai vs Claude Code interaction differences?\n5. Top skills used + improvement patterns?\n\n## Pass Criteria\n\n- At least 3/5 questions answerable with reasonable completeness\n- Data retrieval is feasible (not buried, queryable)\n- No major entity categories missing\n\n## If Fails\n\n- Iterate on prompt/model before Phase 3\n- Document what's missing\n- Adjust glossary or extraction approach","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-28T16:58:05.128973Z","updated_at":"2025-12-30T19:07:53.069641Z","closed_at":"2025-12-30T19:07:53.069641Z","close_reason":"Validation done — Phase 2 marked complete in spec.md v5. Grounding skill proved the extraction approach works."}
{"id":"claude-go-m06","title":"Add means-ends alignment gate to beads skill","description":"At epic close (or phase transition), prompt: \"Does the next phase still serve the original goals, given what this phase learned?\"\n\nDiscovered during claude-memory work: Phase 2 validated hybrid extraction, but Phase 3 spec still assumed entity-centric approach. The means and ends had drifted. An alignment check would have surfaced this earlier.\n\nGate should trigger at:\n- Epic close when dependent phases exist\n- Phase transitions in multi-phase work\n- Possibly at session start when picking up blocked work that just became unblocked","design":"Add to beads skill SKILL.md:\n\n## Means-Ends Alignment Gate\n\n**Trigger:** When closing an epic that unblocks other work, or at phase transitions.\n\n**Prompt:** \"Before moving to the next phase — do the means still match the ends? Given what we learned in [closed phase], does [next phase] still serve the original benchmark/goal?\"\n\n**If misaligned:** Pause, reframe the next phase, possibly close/recreate with updated scope.\n\nLocation: ~/.claude/skills/beads/SKILL.md","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-28T23:31:48.579544Z","updated_at":"2025-12-30T19:22:10.371907Z","closed_at":"2025-12-30T19:22:10.371907Z","close_reason":"Relocated to skill-beads repo as skill-beads-3g5 (P1). Includes note about session-management skill coordination."}
{"id":"claude-go-miy","title":"Session journey: folders, names, picker","description":"Start sessions in any folder, find them easily with friendly names, improved session chooser.","design":"## Why\nCurrently all sessions spawn in the same working directory. Sessions are identified by UUIDs. The session picker is a flat list with no search/filter.\n\n## Acceptance Criteria\n- [ ] Can pick/navigate to a folder when starting new session\n- [ ] Sessions have friendly names (derived or editable)\n- [ ] Session chooser has search/filter\n- [ ] Session chooser shows useful metadata (folder, last activity, state)\n\n## Workflow\n1. DRAW-DOWN: Create TodoWrite items from acceptance criteria\n2. Folder picker first (core need)\n3. Friendly names\n4. Chooser improvements","status":"open","priority":2,"issue_type":"epic","created_at":"2026-01-07T20:44:17.534312Z","created_by":"modha","updated_at":"2026-01-07T20:44:17.534312Z"}
{"id":"claude-go-n0i","title":"Reference-style markdown links for token efficiency","description":"For docs with many repeated URLs, use reference-style links:\n[text][1] instead of [text](url)\n\nWith definitions at end:\n[1]: https://example.com\n\nWould reduce token count for link-heavy docs. Lower priority - current inline style works fine.","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-05T20:38:57.567748Z","updated_at":"2026-01-05T20:38:57.567748Z"}
{"id":"claude-go-n4z","title":"Consider: Add Docs text manipulation (insert, append, replace)","description":"Official MCP has docs_insertText, docs_appendText, docs_replaceText. We only have create_doc_from_markdown.","design":"## Official MCP Tools\n- docs_insertText: Insert at beginning\n- docs_appendText: Append to end\n- docs_replaceText: Find/replace text\n\n## What We Have\n- create_doc_from_markdown: Create new doc only\n- No modification of existing docs\n\n## Question\nDo we need this? Our philosophy is:\n- Assemble context (read many sources)\n- Create artifacts (new docs from synthesis)\n- NOT: incrementally modify existing docs\n\n## When It Would Help\n- Appending session notes to a running doc\n- Programmatic doc updates (template filling)\n- Collaborative editing patterns\n\n## Recommendation\nLower priority. Our create-from-markdown works well.\nConsider only if use cases emerge.","status":"tombstone","priority":3,"issue_type":"feature","created_at":"2026-01-03T23:23:52.057488Z","updated_at":"2026-01-08T18:03:15.967312Z","close_reason":"Not worth it","dependencies":[{"issue_id":"claude-go-n4z","depends_on_id":"claude-go-5ak","type":"parent-child","created_at":"2026-01-03T23:25:38.837011Z","created_by":"modha","metadata":"{}"}],"deleted_at":"2026-01-08T18:03:15.967312Z","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"feature"}
{"id":"claude-go-nbo","title":"Permission detection in JSONL parser","description":"Distinguish tool approval prompts from regular user input waiting. The JSONL has different patterns for these - need to surface 'needs permission' vs 'ready for message' in the UI.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-06T22:10:46.68177Z","created_by":"modha","updated_at":"2026-01-06T22:10:46.68177Z","dependencies":[{"issue_id":"claude-go-nbo","depends_on_id":"claude-go-tvd","type":"parent","created_at":"2026-01-06T22:10:46.683071Z","created_by":"modha"},{"issue_id":"claude-go-nbo","depends_on_id":"claude-go-z2q","type":"parent-child","created_at":"2026-01-07T22:43:12.427633Z","created_by":"modha"}]}
{"id":"claude-go-obq","title":"Create /replan skill for beads-TodoWrite-plan alignment","design":"## Problem\n\nManual friction when transitioning from strategic planning (beads) to session execution (TodoWrite). User has to explicitly say \"draw down the beads into TodoWrite\" each time. This breaks flow and is easy to forget.\n\n## Current State\n\nThree planning layers exist but don't auto-sync:\n1. **Plan files** (`~/.claude/plans/*.md`) — detailed implementation plans for approval\n2. **Beads** (`.beads/`) — project-level issue tracker with dependencies\n3. **TodoWrite** — session-level execution view\n\nThe translation between them is manual:\n- User says \"let's work on bead X\"\n- Claude reads bead, extracts acceptance criteria\n- Claude populates TodoWrite\n- If TodoWrite drifts, no reconciliation happens\n\n## Proposed /replan Skill\n\n### Trigger Conditions\n- Explicit: user says \"/replan\" or \"align todos\"\n- Implicit (stretch): session start when beads exist, or when user references a bead\n\n### Core Operations\n\n**1. Populate from beads:**\n```\nbd ready → find unblocked work\nbd show \u003cid\u003e → read acceptance criteria\nTodoWrite ← acceptance criteria as items\n```\n\n**2. Check plan files:**\n```\nls ~/.claude/plans/*.md → active plans\nIf plan exists for current work → incorporate steps\n```\n\n**3. Detect drift/orphans:**\n```\nCompare TodoWrite items to bead acceptance criteria\nFlag: \"These todos aren't tracked in any bead: [list]\"\nOffer: \"Create bead?\" or \"Mark as session-only work?\"\n```\n\n**4. Sync status back:**\n```\nWhen TodoWrite item completed → check if bead acceptance criteria met\nIf all criteria done → prompt to close bead\n```\n\n### Open Questions\n\n- **One-shot vs watching?** Is the pain at session start (populate) or mid-session (drift)?\n- **Plan file format?** Do plans need structure for parsing, or freeform OK?\n- **Multi-bead sessions?** What if working on 2-3 beads simultaneously?\n\n### Implementation Notes\n\n- Could be a skill that invokes existing tools (bd CLI, TodoWrite)\n- Needs to handle: no beads, no plan, bead with no acceptance criteria\n- Should be lightweight — don't over-engineer the alignment","acceptance_criteria":"- [ ] /replan skill triggers on explicit command\n- [ ] Reads bd ready and populates TodoWrite from acceptance criteria\n- [ ] Checks ~/.claude/plans/ for relevant plan files\n- [ ] Detects orphan todos not tracked in beads\n- [ ] Prompts for bead closure when criteria complete\n- [ ] Graceful when no beads/plans exist","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-28T10:01:40.102698Z","updated_at":"2025-12-30T20:31:25.764515Z","closed_at":"2025-12-30T20:31:25.764515Z","close_reason":"Tracked elsewhere."}
{"id":"claude-go-oek","title":"Slash command autocomplete in input","description":"When user types /, show available commands. Tab/tap to complete.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-07T22:38:34.959712Z","created_by":"modha","updated_at":"2026-01-07T22:38:34.959712Z","dependencies":[{"issue_id":"claude-go-oek","depends_on_id":"claude-go-ak9","type":"parent-child","created_at":"2026-01-07T22:38:42.836024Z","created_by":"modha"}]}
{"id":"claude-go-p9e","title":"Extract bold/italic formatting as markdown","description":"Docs and Slides textRun objects contain textStyle.bold and textStyle.italic (Docs) or style.bold and style.italic (Slides). Emit **text** for bold, *text* for italic, ***text*** for both.","design":"## Approach\nModify _readStructuralElement (Docs) and extractTextFromTextContent (Slides) to check:\n- textStyle.bold / style.bold → wrap in **\n- textStyle.italic / style.italic → wrap in *\n- Both → wrap in ***\n\n## Edge Cases\n- Formatting that spans partial words (rare but possible)\n- Nested formatting with links (already handling links)\n- Whitespace handling (preserve trailing whitespace outside formatting marks)\n\n## Acceptance Criteria\n- [ ] Bold text in Docs appears as **bold** in output\n- [ ] Italic text in Docs appears as *italic* in output\n- [ ] Bold text in Slides appears as **bold** in output\n- [ ] Italic text in Slides appears as *italic* in output\n- [ ] Combined formatting works (***bold italic***)\n- [ ] Formatting combined with links works: [**bold link**](url)","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-05T20:25:11.21379Z","updated_at":"2026-01-05T20:25:11.21379Z","dependencies":[{"issue_id":"claude-go-p9e","depends_on_id":"claude-go-fic","type":"parent-child","created_at":"2026-01-05T20:26:11.88606Z","created_by":"modha","metadata":"{}"}]}
{"id":"claude-go-pzk","title":"Delete/archive old sessions","description":"UI to delete or archive sessions. Currently need CLI access.","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-07T22:36:22.373372Z","created_by":"modha","updated_at":"2026-01-07T22:36:22.373372Z","dependencies":[{"issue_id":"claude-go-pzk","depends_on_id":"claude-go-miy","type":"parent-child","created_at":"2026-01-07T22:36:29.966621Z","created_by":"modha"}]}
{"id":"claude-go-q7u","title":"Orchestration dashboard for multi-Claude sessions","description":"When running 4+ Claude sessions in parallel, need a simple way to track:\n- Which pane has which task\n- Current status of each\n- Last update from each\n\nDiscovered during Jan 4 2026 orchestration session. Currently tracked mentally or in conversation, but a markdown tracker would help.\n\n## Pattern\n| Pane | Project | Task | Status | Last update |\n|------|---------|------|--------|-------------|\n| TL | ... | ... | ... | ... |","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-04T22:59:49.443415Z","updated_at":"2026-01-04T22:59:49.443415Z"}
{"id":"claude-go-qpe","title":"bd init inherits from parent hub unexpectedly","description":"When running `bd init` in a subdirectory of a location with a parent `.beads/` (hub), the new database inherits/hydrates all issues from the parent hub instead of starting empty.\n\n## Discovery Context\nSession in ~/Repos/claude-modus. The startup hook showed beads from 18+ different projects (infra-openwrt, claude-memory, sb, etc.) even though claude-modus should only have its own issues.\n\nInvestigation revealed:\n- ~/Repos/.beads is a hub with `repos.additional` listing 24 project paths\n- ~/Repos/claude-modus/.beads was created by `bd init` but contained 343 issues from the hub's hydrated state\n- The 3 legitimate claude-modus-* issues were buried in 340+ unrelated issues\n\n## Steps to Reproduce\n1. Have a hub at ~/Repos/.beads with multi-repo config\n2. cd ~/Repos/new-project\n3. git init \u0026\u0026 bd init new-project\n4. bd list shows issues from all hub-hydrated repos, not empty\n\n## Expected Behavior\nbd init in a new project should create an empty database with only the specified prefix. It should NOT inherit from parent .beads/ directories.\n\n## Actual Behavior\nbd init creates a database, then immediately hydrates from the parent hub. The daemon log shows \"Pulled from remote\" and \"Imported from JSONL\" with the full hydrated state.\n\n## Workaround\nInitialize in an isolated temp directory outside the hub's tree, then copy the clean .beads structure:\n\\`\\`\\`bash\nTEMP=$(mktemp -d) \u0026\u0026 cd \"$TEMP\" \u0026\u0026 git init -q\nbd init myprefix --no-daemon\ncp -R .beads /path/to/real/project/\ncd /path/to/real/project \u0026\u0026 bd config set issue-prefix myprefix\n\\`\\`\\`\n\n## Related\n- Possibly same issue as infra-signboard contamination (mentioned by another Claude)\n- May be intentional for \"project inherits from org hub\" use cases, but needs opt-in not default","design":"## Approach\n1. Investigate bd init source code to understand parent discovery logic\n2. Determine if this is intentional behavior or bug\n3. If intentional: add --no-inherit or --isolated flag to bd init\n4. If bug: fix parent .beads discovery to not hydrate during init\n\n## Key Files (likely)\n- cmd/bd/init.go — init command implementation\n- internal/storage/discover.go — database discovery logic\n- internal/daemon/sync.go — sync/hydration logic\n\n## Questions for Yegge\n- Is parent hub inheritance intentional?\n- Should there be an opt-in vs opt-out for this behavior?\n- Is routes.jsonl write-routing separate from hydration inheritance?","acceptance_criteria":"- [ ] bd init in child of hub creates empty database (not hydrated)\n- [ ] Explicit flag available if user WANTS to inherit from parent hub\n- [ ] Documentation clarifies hub vs project-local database behavior\n- [ ] Workaround documented in beads skill until fixed","status":"closed","priority":1,"issue_type":"bug","created_at":"2026-01-04T21:16:22.128093Z","updated_at":"2026-01-04T22:36:28.139412Z","closed_at":"2026-01-04T22:36:28.139412Z","close_reason":"Filed upstream as steveyegge/beads#896. Workaround documented in bead description."}
{"id":"claude-go-qpn","title":"Check for official MCPs: Google Workspace, Calendar","description":"Watch for official MCPs from Google for Workspace (Drive, Docs, Sheets) and Calendar. Currently using custom mcp-google-workspace.\n\nWhere to check:\n- modelcontextprotocol/servers (GitHub)\n- Google developer announcements  \n- Claude Connectors (Anthropic-hosted)\n\nAlready official: GitHub, Todoist, Slack (community)","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-30T20:34:40.803864Z","updated_at":"2026-01-03T14:46:50.239087Z","closed_at":"2026-01-03T14:46:50.239087Z","close_reason":"Found official Google Workspace MCP at gemini-cli-extensions/workspace. Forked to spm1001/workspace, created itv-auth branch with standalone OAuth support (no cloud function dependency). Works with ITV-approved OAuth credentials. Team can clone from fork."}
{"id":"claude-go-r4z","title":"Extract table data from Slides (not just note existence)","description":"When reading Slides, we mark [TABLE] 6x6 but don't extract content. Official extracts actual table data.","design":"## Current Behavior\nOrganic: \"[TABLE] 6x6 table\" - just notes existence\nOfficial: Shows actual table content with headers/rows\n\n## Slides API\nTables in Slides have table.tableRows with cells containing text.\nWe're detecting tables but not extracting cell content.\n\n## Implementation\nIn our Slides → structured text conversion:\n1. Detect TABLE elements (already doing this)\n2. Extract tableRows and cell text\n3. Format as markdown table or structured text\n\n## Trade-off\nMore verbose output but more useful.\nCould add flag: include_table_content=True/False","status":"tombstone","priority":2,"issue_type":"feature","created_at":"2026-01-03T23:23:44.879605Z","updated_at":"2026-01-08T18:03:15.967312Z","close_reason":"Tables now fully extracted as markdown tables instead of just [TABLE] 6x4 flags. Added _extract_table_content() and _format_table_as_markdown() functions.","dependencies":[{"issue_id":"claude-go-r4z","depends_on_id":"claude-go-5ak","type":"parent-child","created_at":"2026-01-03T23:25:33.683509Z","created_by":"modha","metadata":"{}"}],"deleted_at":"2026-01-08T18:03:15.967312Z","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"feature"}
{"id":"claude-go-r7t","title":"Chat UI (client rendering)","description":"public/app.js + style.css: Render JSONL messages as chat bubbles. Markdown rendering, code block syntax highlighting, copy buttons. Mobile-first CSS.","acceptance_criteria":"Conversation renders with markdown, syntax-highlighted code blocks, copy buttons per block.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-06T21:57:33.259813Z","created_by":"modha","updated_at":"2026-01-06T21:57:33.259813Z","dependencies":[{"issue_id":"claude-go-r7t","depends_on_id":"claude-go-tvd","type":"parent","created_at":"2026-01-06T21:57:33.261008Z","created_by":"modha"},{"issue_id":"claude-go-r7t","depends_on_id":"claude-go-5o5","type":"blocks","created_at":"2026-01-06T21:57:33.261577Z","created_by":"modha"},{"issue_id":"claude-go-r7t","depends_on_id":"claude-go-ak9","type":"parent-child","created_at":"2026-01-07T22:38:35.075834Z","created_by":"modha"}]}
{"id":"claude-go-raf","title":"Update workspace://patterns/export-formats resource","description":"Resource may have stale guidance from before get_content() auto-routing. Check for old tool names and update to reflect current architecture.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-04T21:14:59.329351Z","updated_at":"2026-01-04T21:14:59.329351Z"}
{"id":"claude-go-s2t","title":"Session persistence debugging","description":"tmux session died during service restart deploy. Need to understand why and make sessions more resilient.","design":"## Observed\n- User in active session\n- Deployed fix, service restarted\n- User's message stuck at pending (italics)\n- After refresh, session list empty\n- tmux list-sessions shows no claude- sessions\n\n## Questions\n1. Did the message reach tmux before WebSocket died?\n2. Why did the tmux session exit?\n3. Should we persist session IDs to reconnect to orphaned tmux sessions?\n\n## Possible fixes\n- Log tmux session lifecycle events\n- Check if claude process exited (and why)\n- Add session recovery on startup (scan for existing claude- tmux sessions)","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-01-06T23:05:12.635215Z","created_by":"modha","updated_at":"2026-01-06T23:15:04.650597Z","closed_at":"2026-01-06T23:15:04.650597Z","close_reason":"Fixed: KillMode=process in systemd service preserves tmux sessions across restarts"}
{"id":"claude-go-se7","title":"Add unit tests for get_content() routing logic","description":"get_content() now has complex routing: shortcuts, non-exportable types, Sheets multi-tab, Slides structured. Needs test coverage.","design":"## Test Cases Needed\n1. Shortcut → auto-resolves to target\n2. Shortcut to shortcut → recursive resolution\n3. Broken shortcut → error response\n4. Google Form → content_type: not_exportable\n5. Google Site → content_type: not_exportable  \n6. Multi-sheet spreadsheet → all sheets extracted\n7. Slides → structured extraction with tables\n\n## Approach\nMock the Google APIs, test the routing logic in isolation.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-04T18:21:58.970741Z","updated_at":"2026-01-04T18:34:01.723736Z","closed_at":"2026-01-04T18:34:01.723736Z","close_reason":"Added 15 unit tests for get_content() routing: shortcuts, non-exportable types, Slides/Sheets special cases, text vs binary routing, truncation handling"}
{"id":"claude-go-to1","title":"Resolve grep vs rg alias footgun in shell scripts","description":"Recurring issue: shell scripts use 'grep' expecting GNU grep semantics, but system aliases grep→rg. Causes subtle breakage (different flag syntax, output format, exit codes).\n\nTradeoff:\n(a) rg is genuinely better for interactive use (faster, better defaults)\n(b) Scripts expect grep semantics - 'command grep' is defensive but easy to forget\n(c) System instructions encourage using Grep tool (which uses rg), but Claude often writes bash with 'grep' anyway\n\nOptions to consider:\n1. Always use 'command grep' in scripts (verbose, easy to forget)\n2. Unalias grep in shell scripts (shebang with --norc?)\n3. Write scripts to use rg explicitly with rg flags\n4. Add shellcheck or linting to catch grep usage in scripts\n5. Document pattern in CLAUDE.md as gotcha\n\nDec 2025: Hit this twice - once in ap-audit.py subprocess calls, once in verify-firstboot.sh. Each time cost 15-20 min debugging.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-30T18:47:01.721107Z","updated_at":"2025-12-30T19:33:35.576855Z","closed_at":"2025-12-30T19:33:35.576855Z","close_reason":"Fixed by removing ~/.local/bin/grep wrapper script. grep now resolves to /usr/bin/grep. Claude follows system prompt guidance to use Grep tool or rg directly, so the wrapper was causing more harm than good."}
{"id":"claude-go-tsf","title":"Add Chat integration (spaces, messages, DMs)","description":"Official MCP has full Chat API coverage:\n- listSpaces, findSpaceByName\n- sendMessage, getMessages\n- sendDm, findDmByEmail\n- listThreads, setUpSpace\n\nWe have nothing. This is a significant gap for workplace automation.","status":"tombstone","priority":1,"issue_type":"task","created_at":"2026-01-03T23:54:33.990999Z","updated_at":"2026-01-08T18:03:15.967312Z","close_reason":"Not needed - don't use Chat","dependencies":[{"issue_id":"claude-go-tsf","depends_on_id":"claude-go-5ak","type":"parent-child","created_at":"2026-01-03T23:54:57.567072Z","created_by":"modha","metadata":"{}"}],"deleted_at":"2026-01-08T18:03:15.967312Z","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"claude-go-tv0","title":"Knowledge work handoff pattern for non-git projects","description":"Code projects have: git commits + beads + handoff.md\nKnowledge work (Google Drive) has: ??? \n\nDiscovered gap during ITV contracts work. Proposed pattern:\n1. Create 'Working Summary' Google Doc as living artifact\n2. Append session log at bottom (safe, additive)\n3. Bead tracks completion of doc, not contains knowledge\n4. Version History provides diff equivalent\n\nNeeds: testing, skill support, maybe doc-coauthoring integration.\n\n## Open questions\n- How to handle complex edits (not just append)?\n- Where does handoff state live if not in git?","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-04T22:59:56.033316Z","updated_at":"2026-01-04T22:59:56.033316Z"}
{"id":"claude-go-tvd","title":"Claude Go: Self-hosted Claude Code web client","description":"Can start Claude tasks on any device, close browser, get notified when attention needed, continue seamlessly from any other device.","acceptance_criteria":"1. Can start a Claude session from phone\n2. Can close browser, Claude keeps working\n3. Get push notification when Claude needs attention\n4. Can continue from desktop without losing context\n5. Device handoff works cleanly","status":"open","priority":1,"issue_type":"epic","created_at":"2026-01-06T21:56:57.672681Z","created_by":"modha","updated_at":"2026-01-06T21:56:57.672681Z"}
{"id":"claude-go-tvd.1","title":"Health check endpoint","description":"Add GET /health endpoint for monitoring. Should verify tmux is callable.","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-06T23:18:51.627596Z","created_by":"modha","updated_at":"2026-01-06T23:18:51.627596Z","dependencies":[{"issue_id":"claude-go-tvd.1","depends_on_id":"claude-go-tvd","type":"parent-child","created_at":"2026-01-06T23:18:51.628164Z","created_by":"modha"}]}
{"id":"claude-go-tvd.10","title":"Actionable push notifications via ntfy.sh","description":"Instead of just 'tap to open app', let users respond directly from the notification. ntfy.sh supports action buttons that can POST to endpoints. Approve/Deny buttons could POST to /hook/respond without opening Claude Go.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-07T12:15:23.940011Z","created_by":"modha","updated_at":"2026-01-07T12:15:23.940011Z","dependencies":[{"issue_id":"claude-go-tvd.10","depends_on_id":"claude-go-tvd","type":"parent-child","created_at":"2026-01-07T12:15:23.940564Z","created_by":"modha"}]}
{"id":"claude-go-tvd.11","title":"Test ExitPlanMode UI","description":"ExitPlanMode rendering was built but not tested. Trigger plan mode in a session, verify the plan card renders with Approve/Reject buttons, test both paths.","notes":"COMPLETED:\n- ExitPlanMode UI tested and working (approve/reject)\n- Fixed click-swallowed-by-rerender bug\n- Fixed answered state not restored on page load\n- Added /dev/messages/:sessionId debug endpoint\n- Added Playwright automation: inspect-session.py, test-ui.py\n- All 3 UI tests pass (multi-question, send-message, exit-plan-mode)\n\nKEY INSIGHT: Playwright + inject endpoint = full automated testing without user in loop","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-07T12:15:25.610887Z","created_by":"modha","updated_at":"2026-01-07T12:53:42.101555Z","closed_at":"2026-01-07T12:33:14.672504Z","close_reason":"ExitPlanMode UI tested: card renders with Approve/Reject, both paths send correct keystrokes (y/n), loading and answered states work correctly","dependencies":[{"issue_id":"claude-go-tvd.11","depends_on_id":"claude-go-tvd","type":"parent-child","created_at":"2026-01-07T12:15:25.611358Z","created_by":"modha"}]}
{"id":"claude-go-tvd.12","title":"Wire up permission hooks on kube.lan","description":"Register PreToolUse hook on kube.lan so permission cards appear in UI. Local dev uses direct terminal (no hooks needed) — kube.lan is where all Claude Go sessions run.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-07T12:15:28.674704Z","created_by":"modha","updated_at":"2026-01-07T16:43:47.038691Z","closed_at":"2026-01-07T16:43:47.038691Z","close_reason":"Hooks wired up on kube.lan. PreToolUse hook registered in ~/.claude/settings.json, permission cards appear in UI. UX is rough (card at top, duplicates inline tool) but functional.","dependencies":[{"issue_id":"claude-go-tvd.12","depends_on_id":"claude-go-tvd","type":"parent-child","created_at":"2026-01-07T12:15:28.675209Z","created_by":"modha"}]}
{"id":"claude-go-tvd.13","title":"Fix multi-select keystroke sequence","description":"Multi-select AskUserQuestion sends comma-separated indices but Claude Code UI needs: toggle each option with number, then Tab to Submit, then Enter. Same pattern as single-select fix but with multiple toggles.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-07T13:04:15.314087Z","created_by":"modha","updated_at":"2026-01-07T14:15:19.033468Z","closed_at":"2026-01-07T14:15:19.033468Z","close_reason":"Added 'answer-multi' action to lib/sessions.js that sends each index separately then Tab+Enter. Verified with live fishbowl - keystrokes delivered correctly.","dependencies":[{"issue_id":"claude-go-tvd.13","depends_on_id":"claude-go-tvd","type":"parent-child","created_at":"2026-01-07T13:04:15.314587Z","created_by":"modha"}]}
{"id":"claude-go-tvd.14","title":"Write claude-code-grammar.md reference","description":"Document Claude Code terminal interaction patterns as a reference doc. The grammar is consistent: selection prompts need num+Tab+Enter, permissions need y/n+Enter, etc. Next Claude should reason from principles, not pattern-match examples.","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-07T13:04:17.551333Z","created_by":"modha","updated_at":"2026-01-07T13:04:17.551333Z","dependencies":[{"issue_id":"claude-go-tvd.14","depends_on_id":"claude-go-tvd","type":"parent-child","created_at":"2026-01-07T13:04:17.552Z","created_by":"modha"}]}
{"id":"claude-go-tvd.15","title":"Path mismatch: /tmp symlink and CWD tracking","description":"Session created with cwd=/tmp/fishbowl-sandbox but JSONL written to -private-tmp-fishbowl-sandbox (macOS resolves /tmp → /private/tmp). Also: server doesn't track CWD used at session creation, so JSONL watcher uses default REPOS_DIR instead of actual path.","design":"## Root Causes\n\n1. **macOS symlink**: `/tmp` → `/private/tmp`. Claude CLI resolves real path, our `sanitizePath` doesn't.\n2. **CWD not tracked**: `createSession(cwd)` returns only `{id, name}`. The watcher later calls `getSessionPath(id)` with default `REPOS_DIR`.\n\n## Fix\n\nOption A: Store CWD in session metadata\n- Modify `createSession` to return `{id, name, cwd}`\n- Store CWD in a session registry (Map or file)\n- `watchSession` takes CWD parameter\n\nOption B: Resolve symlinks in sanitizePath\n- Use `fs.realpathSync(cwd)` before sanitizing\n- Handles macOS /tmp → /private/tmp\n\nProbably need both fixes.","status":"closed","priority":1,"issue_type":"bug","created_at":"2026-01-07T13:22:51.871676Z","created_by":"modha","updated_at":"2026-01-07T13:43:06.113917Z","closed_at":"2026-01-07T13:43:06.113917Z","close_reason":"Fixed: resolve symlinks with fs.realpathSync, track CWD in sessionMetadata, pass to watcher","dependencies":[{"issue_id":"claude-go-tvd.15","depends_on_id":"claude-go-tvd","type":"parent-child","created_at":"2026-01-07T13:22:51.873391Z","created_by":"modha"}]}
{"id":"claude-go-tvd.16","title":"Systematic UI interaction testing with Playwright harness","description":"Now that the Playwright test harness works end-to-end, systematically test all interaction types from claude-go-interaction-reference.md to verify button wiring.","design":"## Context\n\nThe test harness is now working:\n- `scripts/test-ui-buttons.py` - clicks web UI buttons, verifies tmux receives keystrokes\n- `scripts/spinup-fishbowl.sh` - creates sandboxes in safe paths\n- Path bug fixed - sessions work in any directory\n\n## Interaction Types to Test (from claude-go-interaction-reference.md)\n\n### 1. AskUserQuestion\n- [x] Single-select (tested, works)\n- [ ] Multi-select (.tvd.13 - known broken, sends comma-separated indices)\n- [ ] Multiple questions in sequence\n- [ ] \"Other\" free-text option\n\n### 2. ExitPlanMode  \n- [x] Approve plan (tested via inject, works)\n- [ ] Reject plan\n- [ ] Edit plan (option 3)\n\n### 3. Permission Prompts\n- [ ] Write file approval\n- [ ] Bash command approval\n- [ ] \"Allow all\" option (option 2)\n- [ ] Reject with instructions (option 3)\n\n### 4. Plan Mode Entry\n- [ ] Approve entering plan mode\n- [ ] Skip plan mode (start implementing)\n\n### 5. Edge Cases\n- [ ] Multiple pending permissions\n- [ ] Rapid sequential interactions\n- [ ] Page refresh mid-interaction\n\n## Approach\n\n1. Extend test-ui-buttons.py with test cases for each interaction type\n2. Use fishbowl Claude to generate real prompts (not just inject)\n3. For each: click button → verify UI state → verify tmux state\n4. Document any failures as bugs\n\n## Commands\n\n```bash\n./scripts/spinup-fishbowl.sh interaction-test\n~/.claude/.venv/bin/python scripts/test-ui.py\n~/.claude/.venv/bin/python scripts/test-ui-buttons.py --session \u003cid\u003e\n```","acceptance_criteria":"- [x] All AskUserQuestion variants tested (single, multi, other)\n- [x] ExitPlanMode approve/reject tested (edit deferred to .tvd.18)\n- [x] Permission prompt approve/deny tested (options 2/3 deferred to .tvd.19)\n- [x] Plan mode entry deferred to .tvd.20\n- [x] Edge cases tested (multiple pending, rapid clicks)\n- [x] Bugs filed for any failures/deferred items\n- [x] test-ui.py extended with new test cases (11 tests total)","notes":"## COMPLETED: 2026-01-07\n\nExtended test-ui.py from 4 to 11 tests. All pass (11/11).\n\n### Tests Added\n\n| Test | Status | Notes |\n|------|--------|-------|\n| multiselect | ✅ | UI toggle+submit works, keystroke delivery needs .tvd.13 |\n| exit-plan-reject | ✅ | Reject button works |\n| other-option | ✅ | Bottom input works for custom text |\n| permission-approve | ✅ | Via injection, clears card |\n| permission-deny | ✅ | Via injection, clears card |\n| multiple-permissions | ✅ | Both render, resolve independently |\n| rapid-clicks | ✅ | Double-tap prevention confirmed |\n\n### Deferred Work\n\n| Item | Bead | Reason |\n|------|------|--------|\n| ExitPlanMode Edit | .tvd.18 | UX decision needed (single input surface) |\n| Permission options 2/3 | .tvd.19 | UI design needed |\n| EnterPlanMode UI | .tvd.20 | Lower priority |\n| Page refresh test | — | Hard to automate, lower priority |\n\n### Key Finding\n\nMulti-select keystroke delivery still broken (.tvd.13). UI works but sends \"1,3\" instead of toggling each option separately.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-07T13:49:12.562821Z","created_by":"modha","updated_at":"2026-01-07T14:11:10.119638Z","closed_at":"2026-01-07T14:11:10.119638Z","close_reason":"Extended test-ui.py from 4 to 11 tests. All pass. Deferred items have their own beads (.tvd.18, .tvd.19, .tvd.20)","dependencies":[{"issue_id":"claude-go-tvd.16","depends_on_id":"claude-go-tvd","type":"parent-child","created_at":"2026-01-07T13:49:12.563405Z","created_by":"modha"}]}
{"id":"claude-go-tvd.17","title":"Persist sessionMetadata to disk for server restart resilience","description":"sessionMetadata Map is in-memory. Server restart loses CWD mappings. Need file-based persistence.","design":"Write to .claude-go-sessions.json on create, read on startup. Simple JSON: {sessionId: {cwd, createdAt}}.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-07T13:52:54.455777Z","created_by":"modha","updated_at":"2026-01-07T13:52:54.455777Z","dependencies":[{"issue_id":"claude-go-tvd.17","depends_on_id":"claude-go-tvd","type":"parent-child","created_at":"2026-01-07T13:52:54.456245Z","created_by":"modha"}]}
{"id":"claude-go-tvd.18","title":"Unified bottom panel for all interactions","description":"ExitPlanMode option 3 (Edit) and AskUserQuestion 'Other' both need text input. Currently no UI for this. Need to decide: contextual bottom input vs inline textarea.","design":"## Decision\n\nUnified bottom panel that morphs based on interaction type. All interactive elements at bottom where thumbs can reach.\n\n## Key Patterns\n\n1. **Normal**: Textarea + Send\n2. **AskUserQuestion**: Header chip + options + textarea row with \"Other…\" button\n3. **Multi-select**: Same but checkboxes + \"Submit\" button\n4. **Multi-question**: Sequential (1/2, 2/2), last question button becomes \"Submit\"\n5. **Permission**: Approve/Always/Deny row + textarea for instructions\n6. **Plan approval**: Approve/Reject + textarea for feedback\n\n## Core Principles\n\n- Flat, not layered (no gestures, no morphing animations)\n- \"Dismiss\" button = Escape key (always available in header)\n- Terminal grammar parity for keystroke mapping\n- One interaction visible at a time (queue others by priority)\n\n## Button Label Context\n\n| Context | Button Label |\n|---------|--------------|\n| Normal input | Send |\n| Single-select question | Other… |\n| Multi-select question | Submit |\n| Last question (multi) | Submit |\n| Permission | Send (for instructions) |\n| Plan feedback | Edit… |\n\n## Full Design\n\nSee: `docs/unified-input-surface.md`","acceptance_criteria":"- [ ] Bottom panel component renders different modes (normal, question, permission, plan)\n- [ ] AskUserQuestion single-select: tap option sends immediately, \"Other…\" sends typed text\n- [ ] AskUserQuestion multi-select: checkboxes toggle, \"Submit\" sends all\n- [ ] AskUserQuestion multi-question: sequential with progress indicator, last question shows \"Submit\"\n- [ ] Permission prompt: Approve/Always/Deny buttons + instructions textarea\n- [ ] ExitPlanMode: Approve/Reject + feedback textarea\n- [ ] Dismiss button sends Escape for all interaction types\n- [ ] Only one interaction visible at a time (priority: permission \u003e question \u003e plan)\n- [ ] Inline cards gray out with \"(answered)\" after response\n- [ ] Button label changes contextually (Send/Other…/Submit/Edit…)","notes":"## 2026-01-07 Session\n\nCOMPLETED:\n- Design doc at docs/unified-input-surface.md\n- Bottom panel component with mode state\n- AskUserQuestion rendering in bottom panel (single-select, multi-select, multi-question sequential)\n- Permission prompt rendering in bottom panel (Approve/Always/Deny)\n- ExitPlanMode rendering in bottom panel\n- \"Other...\" typed response working (optionCount:text protocol)\n- Inline cards gray out when answered from bottom panel\n\nKEY DECISION: Button label changes contextually (Send/Other.../Submit/Edit...) rather than morphing the entire UI.\n\nIN PROGRESS:\n- Testing: single-select works, \"Other...\" works\n- Need to test: multi-select, multi-question, permissions, plan approval\n\nNEXT:\n- Complete testing on Claude Go\n- May need to hide legacy permission banner at top","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-07T14:05:13.812932Z","created_by":"modha","updated_at":"2026-01-07T20:44:55.958542Z","closed_at":"2026-01-07T20:44:55.958542Z","close_reason":"Built unified bottom panel: questions, permissions, plan mode all flow through single input surface. Tested with single-select, multi-select, Other typed responses.","dependencies":[{"issue_id":"claude-go-tvd.18","depends_on_id":"claude-go-tvd","type":"parent-child","created_at":"2026-01-07T14:05:13.813485Z","created_by":"modha"},{"issue_id":"claude-go-tvd.18","depends_on_id":"claude-go-5yg","type":"parent-child","created_at":"2026-01-07T16:46:03.395784Z","created_by":"modha"}]}
{"id":"claude-go-tvd.19","title":"Permission options 2/3: Allow always and Reject with instructions","description":"Claude Code permission prompts have 4 options: 1=allow once, 2=allow this session, 3=trust permanently, n=deny. We only have approve (1) and deny (n). Need UI for options 2 and 3.","design":"## Current State\n\nPermission card has two buttons:\n- Approve → sends \"1\" (allow once)\n- Deny → sends \"n\"\n\n## Missing Options\n\n| Option | Meaning | UI Idea |\n|--------|---------|---------|\n| 2 | Allow for this session | \"Always Allow\" button? Dropdown? |\n| 3 | Trust permanently | Same — dropdown or long-press? |\n\n## Considerations\n\n- Mobile: tap targets, not hover\n- Dropdown adds a tap (bad for quick approvals)\n- Long-press not discoverable\n- Separate buttons clutter the card\n\n## Potential Approach\n\nKeep Approve/Deny as primary. Add subtle \"more options\" (•••) that reveals 2 and 3. Power users find it, casual users get simple flow.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-07T14:06:53.017485Z","created_by":"modha","updated_at":"2026-01-07T14:06:53.017485Z","dependencies":[{"issue_id":"claude-go-tvd.19","depends_on_id":"claude-go-tvd","type":"parent-child","created_at":"2026-01-07T14:06:53.018017Z","created_by":"modha"}]}
{"id":"claude-go-tvd.2","title":"Session history view","description":"Show dead sessions (JSONL exists, tmux gone) in session picker with grey dot. Allows viewing historical conversations.","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-06T23:18:52.852716Z","created_by":"modha","updated_at":"2026-01-06T23:18:52.852716Z","dependencies":[{"issue_id":"claude-go-tvd.2","depends_on_id":"claude-go-tvd","type":"parent-child","created_at":"2026-01-06T23:18:52.853197Z","created_by":"modha"}]}
{"id":"claude-go-tvd.20","title":"Add special rendering for EnterPlanMode","description":"EnterPlanMode currently renders as generic tool-use JSON. Should have interactive Approve/Skip buttons like ExitPlanMode has Approve/Reject.","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-07T14:07:56.13985Z","created_by":"modha","updated_at":"2026-01-07T14:07:56.13985Z","dependencies":[{"issue_id":"claude-go-tvd.20","depends_on_id":"claude-go-tvd","type":"parent-child","created_at":"2026-01-07T14:07:56.14038Z","created_by":"modha"}]}
{"id":"claude-go-tvd.3","title":"WebSocket reconnection","description":"Handle browser sleep/wake gracefully. Currently WebSocket dies and doesn't reconnect. Should auto-reconnect and resync state.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-06T23:18:54.537514Z","created_by":"modha","updated_at":"2026-01-06T23:18:54.537514Z","dependencies":[{"issue_id":"claude-go-tvd.3","depends_on_id":"claude-go-tvd","type":"parent-child","created_at":"2026-01-06T23:18:54.53799Z","created_by":"modha"}]}
{"id":"claude-go-tvd.4","title":"Multi-line input entry","description":"Input box should handle multi-line text better. Currently single line feels cramped for longer prompts.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-06T23:22:12.568011Z","created_by":"modha","updated_at":"2026-01-06T23:22:12.568011Z","dependencies":[{"issue_id":"claude-go-tvd.4","depends_on_id":"claude-go-tvd","type":"parent-child","created_at":"2026-01-06T23:22:12.568486Z","created_by":"modha"}]}
{"id":"claude-go-tvd.5","title":"Markdown preview in input","description":"Preview markdown formatting in input box as user types. Or at minimum, visual hint that markdown is supported.","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-06T23:22:13.29767Z","created_by":"modha","updated_at":"2026-01-06T23:22:13.29767Z","dependencies":[{"issue_id":"claude-go-tvd.5","depends_on_id":"claude-go-tvd","type":"parent-child","created_at":"2026-01-06T23:22:13.298144Z","created_by":"modha"}]}
{"id":"claude-go-tvd.6","title":"Copy button per message block","description":"Add copy button to each message bubble (not just code blocks). Makes it easy to grab Claude responses.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-06T23:22:14.403318Z","created_by":"modha","updated_at":"2026-01-06T23:22:14.403318Z","dependencies":[{"issue_id":"claude-go-tvd.6","depends_on_id":"claude-go-tvd","type":"parent-child","created_at":"2026-01-06T23:22:14.403806Z","created_by":"modha"}]}
{"id":"claude-go-tvd.7","title":"Push notifications via ntfy.sh","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-07T11:27:53.442571Z","created_by":"modha","updated_at":"2026-01-07T11:27:53.442571Z","dependencies":[{"issue_id":"claude-go-tvd.7","depends_on_id":"claude-go-tvd","type":"parent-child","created_at":"2026-01-07T11:27:53.443036Z","created_by":"modha"}]}
{"id":"claude-go-tvd.8","title":"End-to-end test on kube.lan","description":"Deploy and test permission flow: hook fires, server receives, mobile UI shows card, approve sends keystroke, Claude proceeds","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-07T11:28:02.278704Z","created_by":"modha","updated_at":"2026-01-07T11:28:02.278704Z","dependencies":[{"issue_id":"claude-go-tvd.8","depends_on_id":"claude-go-tvd","type":"parent-child","created_at":"2026-01-07T11:28:02.279218Z","created_by":"modha"}]}
{"id":"claude-go-tvd.9","title":"Refactor data-action magic strings to constants","description":"Extract 'select', 'toggle', 'submit-multi', 'approve', 'deny', 'copy' to named constants. Document the vocabulary.","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-07T11:28:09.523738Z","created_by":"modha","updated_at":"2026-01-07T11:28:09.523738Z","dependencies":[{"issue_id":"claude-go-tvd.9","depends_on_id":"claude-go-tvd","type":"parent-child","created_at":"2026-01-07T11:28:09.524265Z","created_by":"modha"}]}
{"id":"claude-go-u1u","title":"Show WebSocket connection status indicator","description":"Visual indicator when WS connected/disconnected/reconnecting. Currently silent failure.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-07T22:32:42.229164Z","created_by":"modha","updated_at":"2026-01-07T22:32:42.229164Z","dependencies":[{"issue_id":"claude-go-u1u","depends_on_id":"claude-go-a77","type":"parent-child","created_at":"2026-01-07T22:32:53.1294Z","created_by":"modha"}]}
{"id":"claude-go-vct","title":"Add find_my_link tool for retrieving URLs from sent mail","description":"## Context\nDuring Gmail clarify workflow, Claude needed to find the Outcomes Planner URL that had been shared before. This took 5+ searches:\n1. \"outcomes planner\" - got meeting docs, not the URL\n2. \"todoist invitation\" - wrong tool entirely\n3. various attempts excluding Google doc URLs\n4. finally found it by searching for domain pattern\n\n## Proposed Tool\n```\nfind_my_link(keyword=\"outcomes planner\", domain_hint=\"itv.com\")\n→ Returns: [\n    {url: \"http://outcomes-planner.itv.com/\", context: \"Staging version email to Caroline\", date: \"2025-07-14\"},\n    ...\n  ]\n```\n\n## Implementation Notes\n- Search sent mail (from:me) for keyword\n- Extract URLs from email bodies\n- Filter by domain_hint if provided\n- Exclude common noise: docs.google.com, meet.google.com, drive.google.com, maps.google.com\n- Return with context snippet showing how URL was used\n\n## Value\n- Single call instead of 5+ search iterations\n- Knows to exclude Google infrastructure URLs by default\n- Returns the *URL* not the email - that's what user actually wants\n\n## Real Example\nUser asked: \"draft reply pointing Elliott to the outcomes planner URL - but I can't remember it\"\nClaude had to: search 5+ variations → get emails → scan for URLs → filter out Google URLs\nCould be: find_my_link(keyword=\"outcomes planner\", domain_hint=\"itv.com\")\n\n## Edge Cases\n- Multiple URLs in same email: return all with position/context\n- URL shorteners (bit.ly): maybe expand? or just return as-is\n- Dead links: not our problem, just return what was sent","design":"## API\n```python\nfind_my_link(\n    keyword: str,                    # search term\n    domain_hint: str | None = None,  # filter to specific domain\n    limit: int = 10                  # max results\n) -\u003e list[{\n    url: str,\n    last_sent: str,          # ISO date\n    times_sent: int,         # dedupe count\n    context: str             # sentence containing URL, max ~200 chars\n}]\n```\n\n## Implementation\n1. Search sent mail (from:me) for keyword\n2. Extract URLs from email bodies (NOT attachments)\n3. Filter out Google infrastructure: docs.google.com, meet.google.com, drive.google.com, maps.google.com\n4. Apply domain_hint filter if provided\n5. Deduplicate by URL, keep most recent instance, count occurrences\n6. Extract surrounding sentence for context (max ~200 chars)\n7. Return up to limit results, sorted by last_sent descending\n\n## Key Decisions\n- Email body only — attachments are expensive to parse, different problem\n- Default excludes Google URLs — that's the noise I had to filter manually\n- Dedupe by URL, return count — if you need all instances, use normal search\n- Sentence context, not N chars — more semantically meaningful\n- No pagination — 50+ sends means you know the URL","acceptance_criteria":"- [ ] Tool searches sent mail (from:me) for keyword\n- [ ] Tool extracts URLs from email body only (not attachments)\n- [ ] Tool excludes Google infrastructure URLs by default (docs/meet/drive/maps.google.com)\n- [ ] Tool filters by domain_hint when provided\n- [ ] Tool deduplicates by URL, returns most recent with times_sent count\n- [ ] Tool extracts sentence context (~200 chars max)\n- [ ] Tool respects limit parameter (default 10)\n- [ ] Tool returns results sorted by last_sent descending\n- [ ] Unit tests for URL extraction and filtering","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-04T20:44:49.117891Z","updated_at":"2026-01-04T21:31:12.906273Z"}
{"id":"claude-go-vna","title":"Fetch available slash commands from Claude","description":"Query Claude for /skills list. Cache locally. Update on session start.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-07T22:38:35.138592Z","created_by":"modha","updated_at":"2026-01-07T22:38:35.138592Z","dependencies":[{"issue_id":"claude-go-vna","depends_on_id":"claude-go-ak9","type":"parent-child","created_at":"2026-01-07T22:38:42.910547Z","created_by":"modha"}]}
{"id":"claude-go-wdc","title":"Wire validation.py into tools (extract_file_id, handle_api_error)","description":"validation.py and error handling utilities exist but are orphaned:\n\n**Unused functions:**\n- extract_file_id() - tools still require bare IDs, Claude must extract from URLs\n- is_valid_email(), normalize_email() - not called anywhere\n- handle_api_error(), format_error_response() - 20+ exception handlers don't use them\n\n**To wire in:**\n1. Add `file_id = extract_file_id(file_id)` at entry points of get_content, get_file_metadata, etc.\n2. Replace scattered `except Exception as e` blocks with handle_api_error()\n3. Consider validation for email inputs in contacts tools\n\nFiled during hygiene audit - infrastructure exists, just needs integration.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-04T13:20:30.792669Z","updated_at":"2026-01-04T20:49:17.959839Z","closed_at":"2026-01-04T20:49:17.959839Z","close_reason":"Wired extract_file_id() into get_content, batch_analyze_files, create_doc_from_markdown. Extended URL pattern for folders. Added 11 validation tests."}
{"id":"claude-go-xfi","title":"Add get_slide_thumbnail() tool for per-slide visual context","description":"Middle ground between text-only extraction and full PDF export. Slides API has presentations.pages.getThumbnail for individual slide images.","design":"## Approach\nExtend get_content() for Slides files when purpose=\"visual-analysis\":\n1. Structured extraction (current behavior)\n2. Plus SMALL thumbnails for slides that have visual content AND are not single-large-image\n3. Return both in one payload\n\n## Heuristics for \"worth thumbnailing\"\n- Chart objects: YES (explicitly tagged, high value)\n- Multiple shapes (5+): YES (likely diagram)\n- Single large image filling slide: NO (likely hero photo/stock)\n- Background images: Hard to detect, accept some noise\n\n## API Integration\nSlides API: presentations.pages.getThumbnail\n- Size options: SMALL (default), MEDIUM, LARGE\n- Returns PNG image data\n- Need to base64 encode for JSON response\n\n## Token Budget\nSMALL thumbnails ≈ 85 tokens each at ~512px\nAcceptable overhead for visual context\n\n## Response Shape\n```python\n{\n  \"slides\": [...],  # existing structured extraction\n  \"thumbnails\": {\n    \"2\": {\"image_base64\": \"...\", \"reason\": \"chart\"},\n    \"5\": {\"image_base64\": \"...\", \"reason\": \"shapes\"},\n    # slide 7 skipped: single_large_image\n  },\n  \"skipped\": {\n    \"7\": \"single_large_image\"\n  }\n}\n```\n\n## Workflow\n1. Add single_large_image detection to slide analysis\n2. Add thumbnail fetching logic\n3. Integrate into get_content() visual-analysis path\n4. Test with real presentations","acceptance_criteria":"- [ ] Detect single_large_image slides (skip these for thumbnails)\n- [ ] Fetch SMALL thumbnails via Slides API for visual slides\n- [ ] Integrate thumbnails into get_content() when purpose=visual-analysis\n- [ ] Return thumbnails with reason (chart/shapes) and skipped with reason\n- [ ] Base64 encode images for JSON response\n- [ ] Unit tests for single_large_image detection\n- [ ] Integration test with real presentation","notes":"## COMPLETED\n- Added single_large_image detection (\u003e50% page coverage)\n- Added fragmented_text detection (\u003e5 fragments, \u003c50 char avg)\n- Added thumbnail fetching via Slides API getThumbnail\n- Integrated into get_content() with purpose='visual-analysis'\n- Changed default size from SMALL to MEDIUM (800x450)\n- 74 unit tests pass\n\n## KEY DISCOVERY\nSlides API rate limit: 60 \"expensive read requests\" per minute per user.\nEach getThumbnail is expensive. 96-slide deck = quota exhaustion.\n\n## GOTCHAS\n- Service object may not be thread-safe for parallel fetches\n- Diagnostic script has \"thumbnail fetch failed\" bug - using thumbnails dict but it has different structure than all_thumbnails expected\n\n## NEXT\n- Fix diagnostic script thumbnail dict handling\n- Consider rate-limit-aware batching with delays\n- Could parallelize but needs fresh service per thread","status":"tombstone","priority":1,"issue_type":"feature","created_at":"2026-01-04T17:49:34.256914Z","updated_at":"2026-01-08T18:03:15.967312Z","dependencies":[{"issue_id":"claude-go-xfi","depends_on_id":"claude-go-5ak","type":"parent-child","created_at":"2026-01-04T17:49:48.932616Z","created_by":"modha","metadata":"{}"}],"deleted_at":"2026-01-08T18:03:15.967312Z","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"feature"}
{"id":"claude-go-xl2","title":"Test Google MCP OAuth scope coverage with ITV","description":"Identify which scopes from Google's MCP are approved by ITV OAuth. Chat scopes are new and likely need approval.","design":"## Scopes to verify\nFrom google-workspace MCP:\n- chat.spaces, chat.messages, chat.memberships (NEW)\n- gmail.modify (was: gmail.readonly)\n- presentations.readonly, spreadsheets.readonly\n\n## Process\n1. Try each tool category\n2. Document which fail with auth errors\n3. Request additional scope approval if needed","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-03T14:53:50.021668Z","updated_at":"2026-01-03T15:31:15.154342Z","closed_at":"2026-01-03T15:31:15.154342Z","close_reason":"ITV OAuth scope testing deferred - MCP working with current scopes"}
{"id":"claude-go-z2q","title":"Code quality: maintainable by future Claudes","description":"Refactor app.js so next Claude can pick it up without 20 minutes of orientation.","design":"## Why\nAudit found: rendering intertwined with state, three answer paths, magic strings, setTimeout for state transitions. Works but at threshold where adding features is painful.\n\n## Acceptance Criteria\n- [ ] Rendering separated from state mutation\n- [ ] ID format constants (q-*, plan-*) documented and centralized\n- [ ] Event delegation consolidated (fewer entry points)\n- [ ] Legacy code deleted (not just commented)\n- [ ] Architecture documented for future Claude orientation\n\n## Workflow\n1. DRAW-DOWN: Create TodoWrite items from acceptance criteria\n2. Do this AFTER cleanup epic (depends on killing legacy code first)\n3. Incremental refactoring, test as you go","status":"open","priority":2,"issue_type":"epic","created_at":"2026-01-07T20:44:17.679422Z","created_by":"modha","updated_at":"2026-01-07T20:44:17.679422Z","dependencies":[{"issue_id":"claude-go-z2q","depends_on_id":"claude-go-dx9","type":"blocks","created_at":"2026-01-07T20:44:55.822483Z","created_by":"modha"}]}
{"id":"claude-go-z76","title":"Rename workspace MCPs to reduce confusion","description":"Current state:\n- 'workspace' = Python MCP (mcp-google-workspace repo)\n- 'google-workspace' = Node.js fork (mcp-workspace-google repo)\n- Confusing, especially with Google's official 'workspace-developer'\n\nOptions discussed:\n- mcp-gworkspace, mcp-gsuite, mcp-workspaceplus\n- Or accept the confusion and document clearly\n\nNeed to pick and execute rename across:\n- Repo names\n- MCP server names in configs\n- Documentation","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-04T23:00:02.08073Z","updated_at":"2026-01-04T23:00:02.08073Z","dependencies":[{"issue_id":"claude-go-z76","depends_on_id":"claude-go-a77","type":"parent-child","created_at":"2026-01-07T22:32:42.346916Z","created_by":"modha"}]}
{"id":"claude-go-zcs","title":"Show tmux session name in UI header","description":"Display tmux session name so user knows what to attach to.","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-07T22:37:00.446278Z","created_by":"modha","updated_at":"2026-01-07T22:37:00.446278Z","dependencies":[{"issue_id":"claude-go-zcs","depends_on_id":"claude-go-66i","type":"parent-child","created_at":"2026-01-07T22:37:10.086357Z","created_by":"modha"}]}
